(this.webpackJsonpservicario=this.webpackJsonpservicario||[]).push([[0],{54:function(e,t,a){e.exports=a(79)},59:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),c=a(24),i=a.n(c),l=(a(59),a(8)),o=a(9),u=a(12),m=a(10),d=a(13),p=a(11),f=a(23),E=a(18),v=a(50),h=(a(68),Object(E.c)({all:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SERVICES_SUCCESS":return t.services;default:return e}}})),b=Object(E.c)({item:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SERVICE_SUCCESS":return t.service;default:return e}},isFetching:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_SERVICE":return!0;case"FETCH_SERVICE_SUCCESS":return!1;default:return e}}}),g=Object(E.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER":return t.user;default:return e}},isAuth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER":return!!t.user;default:return e}},isAuthResolved:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH_USER":return!0;case"RESET_AUTH_STATE":return!1;default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_MESSAGES_SUCCESS":return t.messages;default:return e}},services:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_SERVICES_SUCCESS":return t.services;default:return e}}}),N=a(16),O=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;if(a.offersType!==e)return t;switch(a.type){case"FETCH_OFFERS_SUCCESS":return a.offers;case"CHANGE_OFFER_STATUS":var n=Object(N.a)(t),r=n.findIndex((function(e){return e.id===a.offerId}));return n[r].status=a.status,n;case"COLLABORATION_CREATED_FROM_OFFER":var s=Object(N.a)(t),c=s.findIndex((function(e){return e.id===a.offerId}));return s[c].collaborationCreated=!0,s;default:return t}}},S=Object(E.c)({received:O("received"),sent:O("sent"),isFetching:(n="offers",function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(n!==t.resource)return e;switch(t.type){case"REQUEST_RESOURCE":return!0;case"FETCH_RESOURCE_SUCCESS":return!1;default:return e}})}),y=a(4),C=Object(E.c)({joined:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLLABORATION":return t.collaboration;default:return e}},joinedPeople:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLLABORATION_JOINED_PEOPLE":return t.joinedPeople;case"UPDATE_COLLABORATION_USER":var a=Object(N.a)(e),n=t.user,r=a.findIndex((function(e){return e.uid===n.uid}));return r<0?e:a[r].state===n.state?e:(a[r].state=n.state,a);default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COLLABORATION_MESSAGES":var a=Object(N.a)(e);return t.messages.forEach((function(e){"added"===e.type&&a.push(Object(y.a)({id:e.doc.id},e.doc.data()))})),a;case"REMOVE_COLLABORATION_MESSAGE":return e.filter((function(e){return e.id!==t.messageId}));case"RESET_COLLABORATION_MESSAGES":return[];default:return e}}}),w=Object(E.c)({services:h,selectedService:b,auth:g,offers:S,collaboration:C}),j=function(e){return e.auth.messages},A=w,T=function(){var e=[v.a],t=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||E.d;return Object(E.e)(A,t(E.a.apply(void 0,e)))},R=a(5),_=function(){return s.a.createElement("div",{className:"sidebar"},s.a.createElement("div",{className:"sidebar-header"},s.a.createElement("div",{className:"sidebar-title"},"Menu"),s.a.createElement("a",{className:"sidebar-close"},s.a.createElement("i",{className:"fa fa-times-circle"}))),s.a.createElement("div",{className:"inner"},s.a.createElement("ul",{className:"sidebar-menu"},s.a.createElement("li",null,s.a.createElement("span",{className:"nav-section-title"})),s.a.createElement("li",{className:"have-children"},s.a.createElement("a",{href:"#"},"User"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{href:"#"},"Profile")),s.a.createElement("li",null,s.a.createElement("a",{href:"#"},"Account")),s.a.createElement("li",null,s.a.createElement("a",{href:"#"},"Settings")))),s.a.createElement("li",{className:"have-children"},s.a.createElement("a",{href:"#"},"Messages"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{href:"#"},"Inbox")),s.a.createElement("li",null,s.a.createElement("a",{href:"#"},"Compose")))),s.a.createElement("li",{className:"have-children"},s.a.createElement("a",{href:"#"},"Images"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{href:"#"},"Library")),s.a.createElement("li",null,s.a.createElement("a",{href:"#"},"Upload")))),s.a.createElement("li",{className:"have-children"},s.a.createElement("a",{href:"#"},"Settings"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{href:"#"},"User settings")),s.a.createElement("li",null,s.a.createElement("a",{href:"#"},"App settings")))))))},U=(a(46),a(20)),I=a.n(U),x=(a(70),I.a.initializeApp({apiKey:"AIzaSyC21aIJDqnICdU_8EksgEdSn1ldd2AQ-Oc",authDomain:"servicario-aed11.firebaseapp.com",databaseURL:"https://servicario-aed11.firebaseio.com",projectId:"servicario-aed11",storageBucket:"servicario-aed11.appspot.com",messagingSenderId:"827333802715",appId:"1:827333802715:web:d9f84bc3bdb80e9dcbaafe"}).firestore()),L=I.a.firestore.Timestamp,k=a(2),M=a.n(k),F=a(14),P=function(e){return x.collection("profiles").doc(e.uid).set(e)},D=function(){var e=Object(F.a)(M.a.mark((function e(t){var a,n,r,s,c,i,l,o;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,r=t.fullName,s=t.avatar,e.prev=1,e.next=4,I.a.auth().createUserWithEmailAndPassword(a,n);case 4:return c=e.sent,i=c.user,l={uid:i.uid,fullName:r,email:a,avatar:s,services:[],description:""},e.next=9,P(l);case 9:return e.abrupt("return",l);case 12:return e.prev=12,e.t0=e.catch(1),o=e.t0.message,e.abrupt("return",Promise.reject(o));case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),H=function(e){return x.collection("offers").add(e)},B=function(e,t){return x.collection("offers").doc(e).update({status:t})},V=(a(74),function(e,t){return I.a.database().ref("/".concat(e,"/").concat(t))}),q={state:"offline",last_changed:I.a.database.ServerValue.TIMESTAMP},W={state:"online",last_changed:I.a.database.ServerValue.TIMESTAMP},G=function(e,t){return x.doc("".concat(e,"/")+t)},z=function(e){return function(t){return function(e){var t=G("profiles",e);return x.collection("services").where("user","==",t).get().then((function(e){return e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}))}))}(e).then((function(e){return t({type:"FETCH_USER_SERVICES_SUCCESS",services:e})}))}},Y=function(e,t){return e.price=parseInt(e.price,10),e.user=G("profiles",t),function(e){return x.collection("services").add(e).then((function(e){return e.id}))}(e)},Z=function(e){return function(e){var t=e.email,a=e.password;return I.a.auth().signInWithEmailAndPassword(t,a).catch((function(e){return Promise.reject(e.message)}))}(Object(y.a)({},e))},J=function(e){return function(t){return I.a.auth().signOut().then((function(t){return V("status",e).set(q)})).then((function(e){return t({user:null,type:"SET_AUTH_USER"})}))}},Q=function(e){return function(e){return I.a.auth().onAuthStateChanged(e)}(e)},K=function(e){return function(t){return t({type:"RESET_AUTH_STATE"}),e?(a=e.uid,x.collection("profiles").doc(a).get().then((function(e){return Object(y.a)({uid:a},e.data())}))).then((function(e){return t({user:e,type:"SET_AUTH_USER"}),e})):t({user:null,type:"SET_AUTH_USER"});var a}},$=function(){var e=Object(F.a)(M.a.mark((function e(t,a){var n,r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.service.get();case 2:return n=e.sent,e.next=5,t[a].get();case 5:return r=e.sent,t.service=n.data(),t.service.id=n.id,t[a]=r.data(),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),X=function(e){return function(t){return t({type:"REQUEST_RESOURCE",resource:"offers"}),function(e){var t=G("profiles",e);return x.collection("offers").where("fromUser","==",t).get().then((function(e){return e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}))}))}(e).then(function(){var e=Object(F.a)(M.a.mark((function e(a){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(a.map((function(e){return $(e,"toUser")})));case 2:return n=e.sent,t({type:"FETCH_RESOURCE_SUCCESS",resource:"offers"}),t({type:"FETCH_OFFERS_SUCCESS",offers:n,offersType:"sent"}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},ee=function(e){return function(t){return t({type:"REQUEST_RESOURCE",resource:"offers"}),function(e){var t=G("profiles",e);return x.collection("offers").where("toUser","==",t).get().then((function(e){return e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}))}))}(e).then(function(){var e=Object(F.a)(M.a.mark((function e(a){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(a.map((function(e){return $(e,"fromUser")})));case 2:return n=e.sent,t({type:"FETCH_RESOURCE_SUCCESS",resource:"offers"}),t({type:"FETCH_OFFERS_SUCCESS",offers:n,offersType:"received"}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},te=function(e,t){return function(a){return B(e,t).then((function(n){return a({type:"CHANGE_OFFER_STATUS",offerId:e,status:t,offersType:"received"})}))}},ae=function(e){return function(t){return function(e,t){return x.collection("profiles").doc(e).collection("messages").onSnapshot((function(e){var a=e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}));t(a)}))}(e,(function(e){return t({type:"FETCH_USER_MESSAGES_SUCCESS",messages:e})}))}},ne=function(e){return function(e){return x.collection("profiles").doc(e.toUser).collection("messages").doc(e.id).update({isRead:!0})}(e)},re=function(e){return function(e){return x.collection("collaborations").where("allowedPeople","array-contains",e).get().then((function(e){return e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}))}))}(e)},se=function(e,t){return function(a){return function(e,t){return x.collection("collaborations").doc(e).onSnapshot((function(e){var a=Object(y.a)({id:e.id},e.data());t(a)}))}(e,function(){var e=Object(F.a)(M.a.mark((function e(n){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],!n.joinedPeople){e.next=5;break}return e.next=4,Promise.all(n.joinedPeople.map(function(){var e=Object(F.a)(M.a.mark((function e(t){var a;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:return a=e.sent,e.abrupt("return",Object(y.a)({id:a.id},a.data()));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:r=e.sent;case 5:a({type:"SET_COLLABORATION",collaboration:n}),a({type:"SET_COLLABORATION_JOINED_PEOPLE",joinedPeople:r}),t({joinedPeople:r});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},ce=function(e,t){return function(e,t){var a=G("profiles",t);return x.collection("collaborations").doc(e).update({joinedPeople:I.a.firestore.FieldValue.arrayUnion(a)})}(e,t)},ie=function(e,t){return function(e,t){var a=G("profiles",t);return x.collection("collaborations").doc(e).update({joinedPeople:I.a.firestore.FieldValue.arrayRemove(a)})}(e,t)},le=function(e){return function(t){return function(e,t){return x.collection("profiles").doc(e).onSnapshot((function(e){var a=Object(y.a)({id:e.id},e.data());t(a)}))}(e,(function(e){return t({type:"UPDATE_COLLABORATION_USER",user:e})}))}},oe=function(e){return function(t){return function(e){var t=e.message,a=e.collabId,n=e.timestamp;return x.collection("collaborations").doc(a).collection("messages").doc(n).set(t)}(e).catch((function(a){return t({type:"REMOVE_COLLABORATION_MESSAGE",messageId:e.timestamp}),Promise.reject("Collaboration is expired!")}))}},ue=function(e){return function(t){return t({type:"RESET_COLLABORATION_MESSAGES"}),function(e,t){return x.collection("collaborations").doc(e).collection("messages").onSnapshot((function(e){return t(e.docChanges())}))}(e,(function(e){t({type:"SET_COLLABORATION_MESSAGES",messages:e})}))}},me=function(e,t){return function(e,t){return x.collection("collaborations").doc(e).update({expiresAt:t})}(e,t)},de=function(e){var t,a=V("status",e);t=function(e){if(!e)return a.set(q),null;a.onDisconnect().set(q).then((function(e){return a.set(W)}))},I.a.database().ref(".info/connected").on("value",(function(e){t(e.val())}))},pe=a(27),fe=Object(p.b)((function(e){return{messages:j(e)}}))((function(e){e.dispatch;var t=e.messages,a=Object(pe.g)();return function(e){var t=e.filter((function(e){return!e.isRead})).map((function(e){return s.a.createElement("div",{key:e.id},s.a.createElement("div",{className:"from-user"},s.a.createElement("span",null,"From: "),e.fromUser.name),s.a.createElement("hr",null),s.a.createElement("div",{className:"navbar-item navbar-item-message"},s.a.createElement("div",null,e.text),s.a.createElement("div",{onClick:function(){return function(e){ne(e),a.push(e.cta)}(e)}},s.a.createElement("div",{className:"button is-success"},"Join")),s.a.createElement("button",{onClick:function(){return function(e){ne(e)}(e)},className:"button is-warning"},"Later")))}));return 0===t.length?s.a.createElement("div",{className:"navbar-item"},"No Messages :("):t}(t)})),Ee=function(e){var t=e.auth,a=t.user,n=t.isAuth,c=t.messages,i=e.loadFresh;return Object(r.useEffect)((function(){if(i){var e=document.createElement("script");e.src="".concat("","/js/fresh.js"),e.async=!0,document.body.appendChild(e)}}),[i]),s.a.createElement("nav",{id:e.id||"",className:"navbar is-fresh is-transparent no-shadow",role:"navigation","aria-label":"main navigation"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"navbar-brand"},s.a.createElement(R.b,{to:"/",className:"navbar-item"},s.a.createElement("div",{className:"title"},"Servicario")),s.a.createElement("a",{className:"navbar-item is-hidden-desktop is-hidden-tablet"},s.a.createElement("div",{id:"menu-icon-wrapper",className:"menu-icon-wrapper",style:{visibility:"visible"}},s.a.createElement("svg",{width:"1000px",height:"1000px"},s.a.createElement("path",{className:"path1",d:"M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"}),s.a.createElement("path",{className:"path2",d:"M 300 500 L 700 500"}),s.a.createElement("path",{className:"path3",d:"M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"})),s.a.createElement("button",{id:"menu-icon-trigger",className:"menu-icon-trigger"}))),s.a.createElement("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbar-menu"},s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}),s.a.createElement("span",{"aria-hidden":"true"}))),s.a.createElement("div",{id:"navbar-menu",className:"navbar-menu is-static"},s.a.createElement("div",{className:"navbar-start"},s.a.createElement("a",{className:"navbar-item is-hidden-mobile"},s.a.createElement("div",{id:"menu-icon-wrapper",className:"menu-icon-wrapper",style:{visibility:"visible"}},s.a.createElement("svg",{width:"1000px",height:"1000px"},s.a.createElement("path",{className:"path1",d:"M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"}),s.a.createElement("path",{className:"path2",d:"M 300 500 L 700 500"}),s.a.createElement("path",{className:"path3",d:"M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"})),s.a.createElement("button",{id:"menu-icon-trigger",className:"menu-icon-trigger"})))),s.a.createElement("div",{className:"navbar-end"},n&&s.a.createElement("div",{className:"navbar-item is-secondary user-welcome"},"Hi ".concat(a.fullName)),s.a.createElement(R.b,{to:"/",className:"navbar-item is-secondary"},"Home"),s.a.createElement(R.b,{to:"/faq",className:"navbar-item is-secondary"},"Faq"),n&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},s.a.createElement("a",{className:"navbar-link"},"Manage"),s.a.createElement("div",{className:"navbar-dropdown"},s.a.createElement(R.b,{to:"/services/new",className:"navbar-item"},"Create Service"),s.a.createElement(R.b,{to:"/services/me",className:"navbar-item"},"Your Services"),s.a.createElement(R.b,{to:"/offers/sent",className:"navbar-item"},"Sent Offers"),s.a.createElement(R.b,{to:"/offers/received",className:"navbar-item"},"Received Offers"),s.a.createElement(R.b,{to:"/collaborations/me",className:"navbar-item"},"Received Collaborations"))),s.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},s.a.createElement("a",{className:"navbar-link"},"Messages"),s.a.createElement("div",{className:"navbar-dropdown navbar-dropdown-messages"},c&&s.a.createElement(fe,null)))),!n&&s.a.createElement(s.a.Fragment,null,s.a.createElement(R.b,{to:"/login",className:"navbar-item is-secondary modal-trigger","data-modal":"auth-modal"},"Login"),s.a.createElement(R.b,{to:"/register",className:"navbar-item"},s.a.createElement("span",{className:"button signup-button rounded secondary-btn raised"},"Register"))),n&&s.a.createElement(R.b,{to:"/logout",className:"navbar-item"},s.a.createElement("span",{className:"button signup-button is-danger rounded raised"},"Logout"))))))},ve=function(){return s.a.createElement("section",{className:"hero is-default is-bold"},s.a.createElement("div",{className:"hero-body"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"columns is-vcentered"},s.a.createElement("div",{className:"column is-5 is-offset-1 landing-caption"},s.a.createElement("h1",{className:"title is-1 is-bold is-spaced"},"Learn, Collaborate."),s.a.createElement("h2",{className:"subtitle is-5 is-muted"},"Lorem ipsum sit dolor amet is a dummy text used by typography industry"," "),s.a.createElement("p",null,s.a.createElement("a",{href:"!#",className:"button cta rounded primary-btn raised"},"Get Started"))),s.a.createElement("div",{className:"column is-5 is-offset-1"},s.a.createElement("figure",{className:"image is-4by3"},s.a.createElement("img",{src:"/worker.svg",alt:"Description"})))))))},he=function(e){var t=e.service,a=e.children,n=e.className,r=e.noButton;return s.a.createElement("div",{className:"column is-one-third"},s.a.createElement("div",{className:"feature-card is-bordered has-text-centered revealOnScroll delay-1 ".concat(n),"data-animation":"fadeInLeft"},s.a.createElement("div",{className:"card-title"},s.a.createElement("h4",null,t.title)),s.a.createElement("div",{className:"card-icon"},s.a.createElement("img",{src:t.image,alt:""})),s.a.createElement("div",{className:"card-text"},s.a.createElement("p",null,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e?e.length<=t?e:e.substr(0,t)+"...":" "}(t.description))),a&&s.a.createElement("div",{className:"card-text"},a),!r&&s.a.createElement("div",{className:"card-action"},s.a.createElement(R.b,{to:"/services/".concat(t.id),className:"button btn-align-md accent-btn raised"},"Learn More"))))},be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={services:[]},a.renderServices=function(e){return e.map((function(e){return s.a.createElement(he,{key:e.id,service:e})}))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchServices()}},{key:"render",value:function(){var e=this.props.services;return s.a.createElement("div",null,s.a.createElement(ve,null),s.a.createElement("section",{className:"section section-feature-grey is-medium"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"title-wrapper has-text-centered"},s.a.createElement("h2",{className:"title is-2"},"Great Power Comes "),s.a.createElement("h3",{className:"subtitle is-5 is-muted"},"With great Responsability"),s.a.createElement("div",{className:"divider is-centered"})),s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("div",{className:"columns is-multiline"},this.renderServices(e))))))}}]),t}(s.a.Component),ge=Object(p.b)((function(e){return{services:e.services.all}}),{fetchServices:function(){return function(e){return x.collection("services").get().then((function(e){return e.docs.map((function(e){return Object(y.a)({id:e.id},e.data())}))})).then((function(t){return e({type:"FETCH_SERVICES_SUCCESS",services:t})}))}}})(be),Ne=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("h1",{className:"title"},"FAQ"),s.a.createElement("p",null,'Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots in a piece of classical Latin literature from 45 BC, making it over 2000 years old. Richard McClintock, a Latin professor at Hampden-Sydney College in Virginia, looked up one of the more obscure Latin words, consectetur, from a Lorem Ipsum passage, and going through the cites of the word in classical literature, discovered the undoubtable source. Lorem Ipsum comes from sections 1.10.32 and 1.10.33 of "de Finibus Bonorum et Malorum" (The Extremes of Good and Evil) by Cicero, written in 45 BC. This book is a treatise on the theory of ethics, very popular during the Renaissance. The first line of Lorem Ipsum, "Lorem ipsum dolor sit amet..", comes from a line in section 1.10.32. The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham.')))},Oe=function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Profile"))},Se=function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Services"))},ye=(a(77),function(){return s.a.createElement("div",{className:"spinner-container"},s.a.createElement("div",{className:"lds-ripple"},s.a.createElement("div",null),s.a.createElement("div",null)))}),Ce=a(7),we=a(17),je=function(e){var t=e.children,a=e.openButtonText,n=e.onModalSubmit,c=Object(r.useState)(!1),i=Object(we.a)(c,2),l=i[0],o=i[1],u=function(e){return o(e)};return s.a.createElement("div",null,s.a.createElement("button",{onClick:function(){return u(!0)},type:"button",className:"button is-medium is-info is-outlined","data-toggle":"modal","data-target":"#exampleModal"},a||"Open"),s.a.createElement("div",{className:"modal ".concat(l?"is-active":"")},s.a.createElement("div",{className:"modal-background"}),s.a.createElement("div",{className:"modal-card"},s.a.createElement("header",{className:"modal-card-head"},s.a.createElement("p",{className:"modal-card-title"},"Make a Deal"),s.a.createElement("button",{onClick:function(){return u(!1)},className:"delete","aria-label":"close"})),s.a.createElement("section",{className:"modal-card-body"},t),s.a.createElement("footer",{className:"modal-card-foot"},s.a.createElement("button",{onClick:function(){return n((function(){return u(!1)}))},className:"button is-success"},"Save changes"),s.a.createElement("button",{onClick:function(){return u(!1)},className:"button"},"Cancel")))))},Ae=function(e){var t=e.service,a=e.auth,n=Object(f.useToasts)().addToast,c=Object(r.useState)({fromUser:"",toUser:"",service:"",status:"pending",price:0,time:0,note:""}),i=Object(we.a)(c,2),l=i[0],o=i[1],u=function(e){var a=e.target,n=a.value,r=a.name;if("time"===r){var s,c=Math.round(n*t.price*100)/100;return o(Object(y.a)({},l,(s={},Object(Ce.a)(s,r,n),Object(Ce.a)(s,"price",c),s)))}return o(Object(y.a)({},l,Object(Ce.a)({},r,n)))};return s.a.createElement(je,{onModalSubmit:function(e){var r=Object(y.a)({},l);r.fromUser=G("profiles",a.user.uid),r.toUser=G("profiles",t.user.uid),r.service=G("services",t.id),r.time=parseInt(l.time,10),H(r).then((function(t){e(),n("Offer Was Successfully Created",{appearance:"success",autoDismiss:!0,autoDismissTimeout:4e3})}),(function(e){console.log(e)}))},openButtonText:"Make an offer"},s.a.createElement("div",{className:"field"},s.a.createElement("input",{onChange:u,name:"note",className:"input is-large",type:"text",placeholder:"Write some catchy note",max:"5",min:"0",autoFocus:""}),s.a.createElement("p",{className:"help"},"Note can increase chance of getting the service")),s.a.createElement("div",{className:"field"},s.a.createElement("input",{name:"time",onChange:u,className:"input is-large",type:"number",placeholder:"How long you need service for ?",max:"5",min:"0",autoFocus:""}),s.a.createElement("p",{className:"help"},"Enter time in hours")),s.a.createElement("div",{className:"service-price has-text-centered"},s.a.createElement("div",{className:"service-price-title"},t.user&&'Uppon acceptance "'.concat(t.user.fullName,'" will charge you:')),s.a.createElement("div",{className:"service-price-value"},s.a.createElement("h1",{className:"title"},l.price))))},Te=Object(p.b)((function(e){var t=e.selectedService,a=e.auth;return{service:t.item,isFetching:t.isFetching,auth:a}}),{fetchServiceById:function(e){return function(t,a){var n=a().selectedService.item;return n.id&&n.id===e?Promise.resolve():(t({type:"REQUEST_SERVICE"}),function(e){return x.collection("services").doc(e).get().then((function(e){return Object(y.a)({id:e.id},e.data())}))}(e).then(function(){var e=Object(F.a)(M.a.mark((function e(a){var n;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.user.get();case 2:n=e.sent,a.user=n.data(),a.user.id=n.id,t({type:"FETCH_SERVICE_SUCCESS",service:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}}})((function(e){var t=Object(pe.h)().serviceId,a=e.fetchServiceById,n=e.isFetching;Object(r.useEffect)((function(){a(t)}),[t,a]);var c=e.service,i=e.auth,l=c.user;return n||t!==c.id?s.a.createElement(ye,null):s.a.createElement("section",{className:"hero is-fullheight is-default is-bold service-detail-page"},s.a.createElement("div",{className:"hero-body"},s.a.createElement("div",{className:"container has-text-centered"},s.a.createElement("div",{className:"columns is-vcentered"},s.a.createElement("div",{className:"column is-5"},s.a.createElement("figure",{className:"image is-4by3"},s.a.createElement("img",{src:c.image,alt:"Description"}))),s.a.createElement("div",{className:"column is-6 is-offset-1"},s.a.createElement("div",{className:"service-header-container"},s.a.createElement("div",{className:"media service-user"},s.a.createElement("div",{className:"media-left"},s.a.createElement("figure",{className:"image is-48x48"},s.a.createElement("img",{className:"is-rounded",src:l.avatar,alt:l.fullName}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title is-4"},l.fullName),s.a.createElement("p",{className:"subtitle is-6"},"Owner"))),s.a.createElement("div",{className:"service-price"},s.a.createElement("div",{className:"media service-user"},s.a.createElement("div",{className:"media-content"},s.a.createElement("p",{className:"title is-4"},"$",c.price),s.a.createElement("p",{className:"subtitle is-6"},"Per Hour"))))),s.a.createElement("h1",{className:"title service-title is-2"},c.title),s.a.createElement("div",{className:"tag is-large service-category"},c.category),s.a.createElement("h2",{className:"subtitle is-4"},c.description),s.a.createElement("br",null),s.a.createElement("div",{className:"has-text-centered"},i.isAuth&&i.user.uid!==c.user.uid&&s.a.createElement(Ae,{auth:i,service:c})))))))})),Re=a(35),_e=a(52),Ue=function(e){var t=function(t){function a(){return Object(l.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){var t=this.props,a=t.auth,n=(t.dispatch,Object(_e.a)(t,["auth","dispatch"]));return a.isAuth?s.a.createElement(pe.a,{to:"/"}):s.a.createElement(e,n)}}]),a}(s.a.Component);return Object(p.b)((function(e){return{auth:e.auth}}))(t)},Ie=Ue((function(){var e=Object(r.useState)(!1),t=Object(we.a)(e,2),a=t[0],n=t[1],c=Object(Re.a)(),i=c.register,l=c.handleSubmit,o=Object(f.useToasts)().addToast;return a?s.a.createElement(pe.a,{to:"/"}):s.a.createElement("div",{className:"auth-page"},s.a.createElement("div",{className:"container has-text-centered"},s.a.createElement("div",{className:"column is-4 is-offset-4"},s.a.createElement("h3",{className:"title has-text-grey"},"Login"),s.a.createElement("p",{className:"subtitle has-text-grey"},"Please login to proceed."),s.a.createElement("div",{className:"box"},s.a.createElement("figure",{className:"avatar"},s.a.createElement("img",{src:"https://placehold.it/128x128",alt:"description"})),s.a.createElement("form",{onSubmit:l((function(e){Z(e).then((function(e){n(!0),o("You Have Successfully Logged In",{appearance:"success",autoDismiss:!0,autoDismissTimeout:3e3})}),(function(e){o(e,{appearance:"error",autoDismiss:!0,autoDismissTimeout:3e3})}))}))},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{ref:i,name:"email",className:"input is-large",type:"email",placeholder:"Your Email",autoComplete:"email"}))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{ref:i,name:"password",className:"input is-large",type:"password",placeholder:"Your Password",autoComplete:"current-password"}))),s.a.createElement("button",{type:"submit",className:"button is-block is-info is-large is-fullwidth"},"Sign In"))),s.a.createElement("p",{className:"has-text-grey"},s.a.createElement("a",null,"Sign In With Google"),"\xa0",s.a.createElement("a",{href:"/"},"Sign Up")," \xa0\xb7\xa0",s.a.createElement("a",{href:"../"},"Need Help?")))))})),xe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.auth,t=e.isAuth,a=e.user;t&&this.props.dispatch(J(a.uid))}},{key:"render",value:function(){var e=this.props.auth.isAuth;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"content-wrapper"},e&&s.a.createElement("h1",{className:"title"},"You are getting logged out..."),!e&&s.a.createElement("h1",{className:"title"},"You are logged out")))}}]),t}(s.a.Component),Le=Object(p.b)((function(e){return{auth:e.auth}}))(xe),ke=function(e){if(!e)return!0;if("string"!==typeof e)return!1;var t=e.split(".").pop();return["png","jpg","jpeg","svg"].includes(t)},Me=function(e){if(!e)return!0;if("string"!==typeof e)return!1;var t=new RegExp(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi);return!!e.match(t)},Fe=function(e,t){return function(a){return!a||"string"===typeof a&&e()[t]===a}},Pe=function(e){var t=Object(Re.a)(),a=t.register,n=t.handleSubmit,r=t.errors,c=t.getValues;return s.a.createElement("form",{onSubmit:n(e.onRegister)},s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{ref:a({required:!0,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/}),name:"email",className:"input is-large",type:"email",placeholder:"Your Email",autoComplete:"email"}),r.email&&s.a.createElement("div",{className:"form-error"},"required"===r.email.type&&s.a.createElement("span",{className:"help is-danger"},"Email is required"),"pattern"===r.email.type&&s.a.createElement("span",{className:"help is-danger"},"Email address is not valid")))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{ref:a({required:!0,minLength:10}),name:"fullName",className:"input is-large",type:"text",placeholder:"Full Name"}),r.fullName&&s.a.createElement("div",{className:"form-error"},"required"===r.fullName.type&&s.a.createElement("span",{className:"help is-danger"},"Name is required"),"minLength"===r.fullName.type&&s.a.createElement("span",{className:"help is-danger"},"Minimum Length Is 10 Characters")))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{ref:a({required:!0,validate:{isValidImage:ke,isValidUrl:Me}}),name:"avatar",className:"input is-large",type:"text",placeholder:"Avatar"}),r.avatar&&s.a.createElement("div",{className:"form-error"},"required"===r.avatar.type&&s.a.createElement("span",{className:"help is-danger"},"Avatar is required"),"isValidImage"===r.avatar.type&&s.a.createElement("span",{className:"help is-danger"},"Avatart extension is not valid"),"isValidUrl"===r.avatar.type&&s.a.createElement("span",{className:"help is-danger"},"Avatart url is not valid")))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{ref:a({required:!0,minLength:6}),name:"password",className:"input is-large",type:"password",placeholder:"Your Password",autoComplete:"current-password"}),r.password&&s.a.createElement("div",{className:"form-error"},"required"===r.password.type&&s.a.createElement("span",{className:"help is-danger"},"Password is required"),"minLength"===r.password.type&&s.a.createElement("span",{className:"help is-danger"},"Minimum Length Is 6 Characters")))),s.a.createElement("div",{className:"field"},s.a.createElement("div",{className:"control"},s.a.createElement("input",{ref:a({required:!0,minLength:6,validate:{sameAs:Fe(c,"password")}}),name:"passwordConfirmation",className:"input is-large",type:"password",placeholder:"Repeat Password",autoComplete:"current-password"}),r.passwordConfirmation&&s.a.createElement("div",{className:"form-error"},"required"===r.password.type&&s.a.createElement("span",{className:"help is-danger"},"Password confirmation is required"),"minLength"===r.password.type&&s.a.createElement("span",{className:"help is-danger"},"Minimum Length Is 6 Characters"),"sameAs"===r.password.type&&s.a.createElement("span",{className:"help is-danger"},"Password Confirmation Is Not The Same As Password")))),s.a.createElement("button",{type:"submit",className:"button is-block is-info is-large is-fullwidth"},"Register"))},De=Ue((function(e){var t=Object(f.useToasts)().addToast;return s.a.createElement("div",{className:"auth-page"},s.a.createElement("div",{className:"container has-text-centered"},s.a.createElement("div",{className:"column is-4 is-offset-4"},s.a.createElement("h3",{className:"title has-text-grey"},"Register"),s.a.createElement("p",{className:"subtitle has-text-grey"},"Please Register to proceed."),s.a.createElement("div",{className:"box"},s.a.createElement("figure",{className:"avatar"},s.a.createElement("img",{src:"https://placehold.it/128x128",alt:"Company Logo"})),s.a.createElement(Pe,{onRegister:function(e){var a;(a=e,D(Object(y.a)({},a))).then((function(e){return function(){}}),(function(e){return t(e,{appearance:"error",autoDismiss:!0,autoDismissTimeout:3e3})}))}})),s.a.createElement("p",{className:"has-text-grey"},s.a.createElement("a",null,"Sign In With Google"),"\xa0",s.a.createElement("a",{href:"/"},"Sign Up")," \xa0\xb7\xa0",s.a.createElement("a",{href:"../"},"Need Help?")))))})),He=function(e){var t=function(t){function a(){return Object(l.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){return this.props.auth.isAuth?s.a.createElement(e,this.props):s.a.createElement(pe.a,{to:"/login"})}}]),a}(s.a.Component);return Object(p.b)((function(e){return{auth:e.auth}}))(t)},Be=He((function(e){return console.log(e),s.a.createElement("div",null,s.a.createElement("h1",null,"Secret Page"))})),Ve=He((function(e){var t=e.auth,a=Object(r.useState)(!1),n=Object(we.a)(a,2),c=n[0],i=n[1],l=Object(r.useState)({category:"mathematics",title:"",description:"",image:"",price:null}),o=Object(we.a)(l,2),u=o[0],m=o[1],d=function(e){var t=e.target,a=t.name,n=t.value;m(Object(y.a)({},u,Object(Ce.a)({},a,n)))};return c?s.a.createElement(pe.a,{to:"/"}):s.a.createElement("div",{className:"create-page"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"form-container"},s.a.createElement("h1",{className:"title"},"Create Service"),s.a.createElement("form",null,s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Category"),s.a.createElement("div",{className:"control"},s.a.createElement("div",{className:"select"},s.a.createElement("select",{onChange:d,name:"category"},s.a.createElement("option",{value:"mathematics"},"Mathematics"),s.a.createElement("option",{value:"programming"},"Programming"),s.a.createElement("option",{value:"painting"},"Painting"),s.a.createElement("option",{value:"singing"},"Singing"),s.a.createElement("option",{value:"english"},"English"))))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Title"),s.a.createElement("div",{className:"control"},s.a.createElement("input",{onChange:d,name:"title",className:"input",type:"text",placeholder:"Text input"}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Description"),s.a.createElement("div",{className:"control"},s.a.createElement("textarea",{onChange:d,name:"description",className:"textarea",placeholder:"Textarea"}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Image Url"),s.a.createElement("div",{className:"control"},s.a.createElement("input",{onChange:d,name:"image",className:"input",type:"text",placeholder:"Text input"}))),s.a.createElement("div",{className:"field"},s.a.createElement("label",{className:"label"},"Price per Hour"),s.a.createElement("div",{className:"control"},s.a.createElement("input",{onChange:d,name:"price",className:"input",type:"number",placeholder:"Text input"}))),s.a.createElement("div",{className:"field is-grouped"},s.a.createElement("div",{className:"control"},s.a.createElement("button",{onClick:function(){var e=t.user;Y(u,e.uid).then((function(){return i(!0)})).catch((function(){return alert("SOME ERROR")}))},type:"button",className:"button is-link"},"Create")),s.a.createElement("div",{className:"control"},s.a.createElement("button",{className:"button is-text"},"Cancel")))))))})),qe=He(function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.auth.user;(0,e.dispatch)(z(t.uid))}},{key:"render",value:function(){var e=this.props.auth.services;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("h1",{className:"title"},"Your Services"),s.a.createElement("div",{className:"columns is-multiline"},e.map((function(e){return s.a.createElement("div",{key:e.id,className:"column"},s.a.createElement(he,{service:e}))})))))}}]),t}(s.a.Component)),We=function(e){var t=e.offer,a=t.service,n=t.time,r=t.toUser,s=t.id,c=e.fromUser;return{serviceId:a.id,title:a.title,image:a.image,time:60*n*60,allowedPeople:[c.uid,r.uid],joinedPeople:[],toUser:r.uid,fromUser:c.uid,fromOffer:s,status:"pending",createdAt:L.fromDate(new Date)}},Ge=function(e){var t=e.offer,a=t.service,n=t.toUser,r=e.fromUser;return{isRead:!1,type:"invitation",text:"Hello ".concat(n.fullName,", Please Join Collaboration As Soon As Possible"),cta:"",toUser:n.uid,fromUser:{name:r.fullName,avatar:r.avatar},serviceTitle:a.title,serviceLink:"/services/".concat(a.id),createdAt:L.fromDate(new Date)}},ze=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).createCollaboration=function(e){var t=a.props,n=t.auth.user,r=t.toastManager,s=We({offer:e,fromUser:n}),c=Ge({offer:e,fromUser:n});a.props.collaborate({collaboration:s,message:c}).then((function(e){return r.add("Collaboration was Created!",{appearance:"success",autoDismiss:!0})}))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.auth;this.props.dispatch(X(e.user.uid))}},{key:"render",value:function(){var e=this,t=this.props,a=t.offers,n=t.isFetching;return n?s.a.createElement(ye,null):s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("h1",{className:"title"},"Sent Offers"),!n&&0===a.length&&s.a.createElement("span",{className:"tag is-warning is-large"},"You don't have any send offers :("),s.a.createElement("div",{className:"columns"},a.map((function(t){return s.a.createElement("div",{key:t.id,className:"column is-one-third"},s.a.createElement(he,{noButton:!0,className:"offer-card",service:t.service},s.a.createElement("div",{className:"tag is-large"},t.status),s.a.createElement("hr",null),s.a.createElement("div",{className:"service-offer"},s.a.createElement("div",null,s.a.createElement("span",{className:"label"},"To User:")," ",t.toUser.fullName),s.a.createElement("div",null,s.a.createElement("span",{className:"label"},"Note:")," ",t.note),s.a.createElement("div",null,s.a.createElement("span",{className:"label"},"Price:")," $",t.price),s.a.createElement("div",null,s.a.createElement("span",{className:"label"},"Time:")," ",t.time," hours")),"accepted"===t.status&&!t.collaborationCreated&&s.a.createElement("div",null,s.a.createElement("hr",null),s.a.createElement("button",{onClick:function(){return e.createCollaboration(t)},className:"button is-success"},"Collaborate"))))})))))}}]),t}(s.a.Component),Ye=Object(f.withToastManager)(ze),Ze=He(Object(p.b)((function(e){var t=e.offers;return{offers:t.sent,isFetching:t.isFetching}}),{collaborate:function(e){var t=e.collaboration,a=e.message;return function(e){return(n=t,x.collection("collaborations").add(n).then((function(e){return e.id}))).then((function(n){var r;return a.cta="/collaborations/".concat(n),function(e){x.collection("profiles").doc(e.toUser).collection("messages").add(e)}(a),r=t.fromOffer,x.collection("offers").doc(r).update({collaborationCreated:!0}),e({type:"COLLABORATION_CREATED_FROM_OFFER",offerId:t.fromOffer,offersType:"sent"}),n}));var n}}})(Ye)),Je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).acceptOffer=function(e){a.props.changeOfferStatus(e,"accepted")},a.declineOffer=function(e){a.props.changeOfferStatus(e,"declined")},a.statusClass=function(e){return"pending"===e?"is-warning":"accepted"===e?"is-success":"declined"===e?"is-danger":void 0},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.auth;this.props.fetchRecievedOffers(e.user.uid)}},{key:"render",value:function(){var e=this,t=this.props,a=t.offers,n=t.isFetching;return n?s.a.createElement(ye,null):s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("h1",{className:"title"},"Received Offers"),!n&&0===a.length&&s.a.createElement("span",{className:"tag is-warning is-large"},"You don't have any received offers :("),s.a.createElement("div",{className:"columns"},a.map((function(t){return s.a.createElement("div",{key:t.id,className:"column is-one-third"},s.a.createElement(he,{noButton:!0,className:"offer-card",service:t.service},s.a.createElement("div",{className:"tag is-large ".concat(e.statusClass(t.status))},t.status),s.a.createElement("hr",null),s.a.createElement("div",{className:"service-offer"},s.a.createElement("div",null,s.a.createElement("span",{className:"label"},"From User:")," ",t.fromUser.fullName),s.a.createElement("div",null,s.a.createElement("span",{className:"label"},"Note:")," ",t.note),s.a.createElement("div",null,s.a.createElement("span",{className:"label"},"Price:")," $",t.price),s.a.createElement("div",null,s.a.createElement("span",{className:"label"},"Time:")," ",t.time," hours")),"pending"===t.status&&s.a.createElement("div",null,s.a.createElement("hr",null),s.a.createElement("button",{onClick:function(){return e.acceptOffer(t.id)},className:"button is-success s-m-r"},"Accept"),s.a.createElement("button",{onClick:function(){return e.declineOffer(t.id)},className:"button is-danger"},"Decline"))))})))))}}]),t}(s.a.Component),Qe=He(Object(p.b)((function(e){var t=e.offers;return{offers:t.received,isFetching:t.isFetching}}),{changeOfferStatus:te,fetchRecievedOffers:ee})(Je)),Ke=a(25),$e=a.n(Ke),Xe=He(function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={collaborations:[]},a.getCollaborationStatus=function(e){return e?L.now().seconds<e.seconds?{className:"is-warning",status:"In Progress"}:{className:"is-success",status:"Finished"}:{className:"is-danger",status:"Not Started"}},a.renderCollaborations=function(e){return e.map((function(e){var t=a.getCollaborationStatus(e.expiresAt),n=t.className,r=t.status;return s.a.createElement("article",{key:e.id,className:"post"},s.a.createElement("h4",null,e.title),s.a.createElement("div",{className:"media"},s.a.createElement("div",{className:"media-left"},s.a.createElement("p",{className:"image is-32x32"},s.a.createElement("img",{src:e.image,alt:e.title}))),s.a.createElement("div",{className:"media-content"},s.a.createElement("div",{className:"content"},s.a.createElement("p",null,s.a.createElement("span",null,e.fromUser.name)," replied"," ",$e()(e.createdAt.toDate()).fromNow()," \xa0",s.a.createElement("span",{className:"tag ".concat(n)},r)))),s.a.createElement("div",{className:"media-right"},s.a.createElement("span",{className:"has-text-grey-light"},s.a.createElement(R.b,{to:"/collaborations/".concat(e.id)},s.a.createElement("button",{className:"button"},"Enter"))))))}))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.auth.user;re(t.uid).then((function(t){return e.setState({collaborations:t})}))}},{key:"render",value:function(){var e=this.state.collaborations;return s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"title"},"Collaborations"),s.a.createElement("div",{className:"box content"},this.renderCollaborations(e))))}}]),t}(s.a.Component)),et=function(e){var t=e.users;return function(e){return e.length>0?e.map((function(e){return s.a.createElement("div",{key:e.id,className:"viewWrapItem"},s.a.createElement("img",{className:"viewAvatarItem",src:e.avatar,alt:"icon avatar"}),s.a.createElement("div",{className:"viewWrapContentItem"},s.a.createElement("span",{className:"textItem"},e.fullName),s.a.createElement("span",{className:"tag textItem ".concat((t=e.state,"online"===t?"is-success":"is-danger"))},e.state)));var t})):null}(t)},tt=function(e){return function(e,t){return e.length>0?e.map((function(e){return e.user.uid===t.uid?s.a.createElement("div",{key:e.id,className:"viewWrapItemLeft"},s.a.createElement("div",{className:"viewWrapItemLeft3"},s.a.createElement("img",{src:e.user.avatar,alt:"avatar",className:"peerAvatarLeft"}),s.a.createElement("div",{className:"viewItemLeft"},s.a.createElement("span",{className:"textContentItem"},e.content))),s.a.createElement("span",{className:"textTimeLeft"},$e()(e.timestamp).fromNow())):s.a.createElement("div",{key:e.id,className:"viewWrapItemRight"},s.a.createElement("div",{className:"viewWrapItemRight3"},s.a.createElement("img",{src:e.user.avatar,alt:"avatar",className:"peerAvatarLeft"}),s.a.createElement("div",{className:"viewItemRight"},s.a.createElement("span",{className:"textContentItem"},e.content))),s.a.createElement("span",{className:"textTimeLeft"},$e()(e.timestamp).fromNow()))})):null}(e.messages,e.authUser)},at=function(e){var t=e.seconds,a=e.timeOutCallback,n=Object(r.useState)(t),c=Object(we.a)(n,2),i=c[0],l=c[1];return Object(r.useEffect)((function(){if(!i)return a();var e=setInterval((function(){l(i-1)}),1e3);return function(){return clearInterval(e)}}),[i,a]),s.a.createElement("div",{className:"timer"},i&&$e.a.utc(1e3*i).format("HH:mm:ss"))},nt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={inputValue:"",reload:!1},a.watchCollabChanges=function(e){a.unsubscribeFromCollab=a.props.subToCollaboration(e,(function(e){var t=e.joinedPeople;a.watchJoinedPeopleChanges(t.map((function(e){return e.id})))}))},a.watchJoinedPeopleChanges=function(e){a.peopleWatchers={},e.forEach((function(e){a.peopleWatchers[e]=a.props.subToProfile(e)}))},a.watchMessagesChanges=function(e){a.unsubscribeFromMessages=a.props.subToMessages(e)},a.onKeyboardPress=function(e){"Enter"===e.key&&a.onSendMessage(a.state.inputValue)},a.onSendMessage=function(e){if(""!==e.trim()){var t=$e()().valueOf().toString(),n=a.props.auth.user,r=a.props.collaboration,s={user:{uid:n.uid,avatar:n.avatar,name:n.fullName},timestamp:parseInt(t,10),content:e.trim()};a.props.sendChatMessage({message:s,collabId:r.id,timestamp:t}).then((function(e){return a.setState({inputValue:""})})).catch((function(e){alert(e)}))}},a.onStartCollaboration=function(e){var t=e.id,a=e.time,n=L.now().seconds,r=new L(n+a,0);me(t,r)},a.getCollaborationStatus=function(e){return 0===Object.keys(e).length?"loading":e.expiresAt?L.now().seconds<e.expiresAt.seconds?"active":"finished":"notStarted"},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id,t=this.props.auth.user;ce(e,t.uid),this.watchCollabChanges(e),this.watchMessagesChanges(e)}},{key:"componentWillUnmount",value:function(){var e=this,t=this.props.match.params.id,a=this.props.auth.user;this.unsubscribeFromCollab(),this.unsubscribeFromMessages(),Object.keys(this.peopleWatchers).forEach((function(t){return e.peopleWatchers[t]()})),ie(t,a.uid)}},{key:"render",value:function(){var e=this,t=this.props,a=t.collaboration,n=t.joinedPeople,r=t.messages,c=this.state.inputValue,i=this.props.auth.user,l=this.getCollaborationStatus(a);return"loading"===l?s.a.createElement(ye,null):s.a.createElement("div",{className:"content-wrapper"},s.a.createElement("div",{className:"root"},s.a.createElement("div",{className:"body"},s.a.createElement("div",{className:"viewListUser"},s.a.createElement(et,{users:n})),s.a.createElement("div",{className:"viewBoard"},s.a.createElement("div",{className:"viewChatBoard"},s.a.createElement("div",{className:"headerChatBoard"},s.a.createElement("div",{className:"headerChatUser"},s.a.createElement("img",{className:"viewAvatarItem",src:"https://i.imgur.com/cVDadwb.png",alt:"icon avatar"}),s.a.createElement("span",{className:"textHeaderChatBoard"},i.fullName)),"notStarted"===l&&s.a.createElement("div",{className:"headerChatButton"},s.a.createElement("button",{onClick:function(){return e.onStartCollaboration(a)},className:"button is-success"},"Start Collaboration")),"active"===l&&s.a.createElement(at,{seconds:a.expiresAt.seconds-L.now().seconds,timeOutCallback:function(){return e.setState({reload:!0})}}),"finished"===l&&s.a.createElement("span",{className:"tag is-warning is-large"},"Collaboration has been finished")),s.a.createElement("div",{className:"viewListContentChat"},s.a.createElement(tt,{authUser:i,messages:r}),s.a.createElement("div",{style:{float:"left",clear:"both"}})),s.a.createElement("div",{className:"viewBottom"},s.a.createElement("input",{onChange:function(t){return e.setState({inputValue:t.target.value})},onKeyPress:this.onKeyboardPress,value:c,className:"viewInput",placeholder:"Type your message..."}),s.a.createElement("button",{onClick:function(){return e.onSendMessage(c)},className:"button is-primary is-large"},"Send")))))))}}]),t}(s.a.Component),rt=He(Object(pe.i)(nt)),st=Object(p.b)((function(e){var t=e.collaboration;return{collaboration:t.joined,joinedPeople:t.joinedPeople,messages:t.messages}}),{subToCollaboration:se,subToProfile:le,subToMessages:ue,sendChatMessage:oe})(rt),ct=function(){return s.a.createElement(pe.d,null,s.a.createElement(pe.b,{path:"/secret"},s.a.createElement(Be,null)),s.a.createElement(pe.b,{path:"/register"},s.a.createElement(De,null)),s.a.createElement(pe.b,{path:"/login"},s.a.createElement(Ie,null)),s.a.createElement(pe.b,{path:"/logout"},s.a.createElement(Le,null)),s.a.createElement(pe.b,{path:"/collaborations/me"},s.a.createElement(Xe,null)),s.a.createElement(pe.b,{path:"/collaborations/:id"},s.a.createElement(st,null)),s.a.createElement(pe.b,{path:"/offers/sent"},s.a.createElement(Ze,null)),s.a.createElement(pe.b,{path:"/offers/received"},s.a.createElement(Qe,null)),s.a.createElement(pe.b,{path:"/services/me"},s.a.createElement(qe,null)),s.a.createElement(pe.b,{path:"/services/new"},s.a.createElement(Ve,null)),s.a.createElement(pe.b,{path:"/services/:serviceId"},s.a.createElement(Te,null)),s.a.createElement(pe.b,{path:"/services"},s.a.createElement(Se,null)),s.a.createElement(pe.b,{path:"/profile"},s.a.createElement(Oe,null)),s.a.createElement(pe.b,{path:"/faq"},s.a.createElement(Ne,null)),s.a.createElement(pe.b,{path:"/"},s.a.createElement(ge,null)))},it=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).renderApplication=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement(Ee,{loadFresh:!0,id:"navbar-main",auth:e}),s.a.createElement(Ee,{auth:e,id:"navbar-clone"}),s.a.createElement(_,null),s.a.createElement(ct,null))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.auth;return e.isAuthResolved?this.renderApplication(e):s.a.createElement(ye,null)}}]),t}(s.a.Component),lt=Object(p.b)((function(e){return{auth:e.auth}}))(it),ot=T(),ut=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeAuth=Q((function(t){ot.dispatch(K(t)),t&&(de(t.uid),e.unsubscribeMessages=ot.dispatch(ae(t.uid))),t||e.unsubscribeMessages&&e.unsubscribeMessages()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribeAuth(),this.unsubscribeMessages()}},{key:"render",value:function(){return s.a.createElement(p.a,{store:ot},s.a.createElement(f.ToastProvider,null,s.a.createElement(R.a,null,s.a.createElement(lt,null))))}}]),t}(s.a.Component);i.a.render(s.a.createElement(ut,null),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.951fce62.chunk.js.map