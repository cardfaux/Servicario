{"version":3,"sources":["reducers/common.js","reducers/services.js","types/index.js","reducers/selectedService.js","reducers/auth.js","reducers/offers.js","reducers/collaboration.js","reducers/index.js","store/index.js","components/Sidebar.jsx","db/index.js","api/auth.js","api/offers.js","api/connection.js","api/index.js","actions/services.js","api/services.js","actions/auth.js","actions/offers.js","actions/collaborations.js","api/collaborations.js","actions/connection.js","components/RecievedMessages.jsx","components/Navbar.jsx","components/Hero.jsx","components/service/ServiceItem.jsx","pages/Home.jsx","pages/FAQ.jsx","pages/Profile.jsx","pages/Services.jsx","components/Spinner.js","components/Modal.jsx","components/service/OfferModal.jsx","pages/ServiceDetail.jsx","components/hoc/onlyGuest.jsx","pages/Login.jsx","pages/Logout.jsx","helpers/validators.js","components/auth/RegisterForm.jsx","pages/Register.jsx","components/hoc/withAuthorization.jsx","pages/Secret.jsx","pages/services/ServiceCreate.jsx","pages/services/UserServices.jsx","helpers/offers.js","pages/offers/SentOffers.jsx","pages/offers/RecievedOffers.jsx","pages/collaborations/RecievedCollaborations.jsx","components/collaboration/JoinedPeople.jsx","components/collaboration/ChatMessages.jsx","components/collaboration/Timer.jsx","pages/collaborations/CollaborationDetail.jsx","Routes.js","ServiceApp.js","App.js","index.js"],"names":["resource","services","combineReducers","all","state","action","type","selectedService","item","service","isFetching","auth","user","isAuth","isAuthResolved","messages","createOfferList","offersType","offers","nextState","offerIndex","findIndex","o","id","offerId","status","collaborationCreated","received","sent","collaboration","joined","joinedPeople","newJoinedPeople","index","jp","uid","newMessages","forEach","change","push","doc","data","filter","m","messageId","serviceApp","getMessages","createdStore","middlewares","thunk","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","Sidebar","className","href","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","Timestamp","createUserProfile","userProfile","collection","set","register","a","email","password","fullName","avatar","createUserWithEmailAndPassword","res","description","errorMessage","message","Promise","reject","createOffer","offer","add","changeOfferStatus","update","createFirebaseRef","database","ref","isOfflineForDatabase","last_changed","ServerValue","TIMESTAMP","isOnlineForDatabase","createRef","docId","fetchUserServices","userId","dispatch","userRef","where","get","then","snapshot","docs","map","api","createService","newService","price","parseInt","docRef","login","loginData","signInWithEmailAndPassword","catch","error","logout","signOut","_","onAuthStateChange","onAuthCallback","onAuthStateChanged","storeAuthUser","authUser","userWithProfile","extractDataFromOffer","userType","fetchSentOffers","mappedOffers","fetchRecievedOffers","subscribeToMessages","callback","onSnapshot","markMessageAsRead","toUser","isRead","fetchCollaborations","subToCollaboration","collabId","done","collab","userSnapshot","joinCollaboration","FieldValue","arrayUnion","leaveCollaboration","arrayRemove","subToProfile","sendChatMessage","timestamp","err","subToMessages","docChanges","startCollaboration","expiresAt","checkUserConnection","userStatusDatabaseRef","isConnected","onDisconnect","on","val","connect","history","useHistory","filteredMessages","key","fromUser","name","text","onClick","cta","goToCollaboration","handleMessageAsRead","length","renderMessages","Navbar","props","loadFresh","useEffect","script","document","createElement","src","process","async","body","appendChild","role","aria-label","to","style","visibility","width","height","d","aria-expanded","data-target","aria-hidden","Fragment","data-modal","Hero","alt","ServiceItem","children","noButton","data-animation","title","image","maxLength","substr","shortText","Home","renderServices","this","fetchServices","React","Component","Faq","Profile","Services","Spinner","Modal","openButtonText","onModalSubmit","useState","isActive","setIsActive","changeModalState","modalState","data-toggle","OfferModal","addToast","useToasts","time","note","setOffer","handleChange","target","value","Math","round","closeModal","offerCopy","appearance","autoDismiss","autoDismissTimeout","console","log","onChange","placeholder","max","min","autoFocus","fetchServiceById","serviceId","getState","lastService","resolve","useParams","category","onlyGuest","OnlyGuest","rest","redirect","setRedirect","useForm","handleSubmit","onSubmit","autoComplete","Logout","isValidImage","extension","split","pop","includes","isValidUrl","regex","RegExp","match","sameAs","getValues","field","RegisterForm","errors","onRegister","required","pattern","minLength","validate","passwordConfirmation","userData","registerFormData","withAuthorization","WithAuthorization","serviceForm","setServiceForm","event","alert","s","newCollaboration","allowedPeople","fromOffer","createdAt","fromDate","Date","newMessage","serviceTitle","serviceLink","SentOffers","createCollaboration","toastManager","collaborate","SentOffersWithToast","withToastManager","ReceivedOffers","acceptOffer","declineOffer","statusClass","collaborations","getCollaborationStatus","now","seconds","renderCollaborations","c","moment","toDate","fromNow","setState","JoinedPeople","users","renderUsers","ChatMessages","content","Timer","timeOutCallback","secondsLeft","setSecondsLeft","intervalId","setInterval","clearInterval","utc","format","CollaborationDetail","inputValue","reload","watchCollabChanges","unsubscribeFromCollab","watchJoinedPeopleChanges","ids","peopleWatchers","watchMessagesChanges","unsubscribeFromMessages","onKeyboardPress","e","onSendMessage","trim","valueOf","toString","onStartCollaboration","nowSeconds","Object","keys","params","float","clear","onKeyPress","Collaboration","withRouter","Routes","path","ServiceApp","renderApplication","store","App","unsubscribeAuth","unsubscribeMessages","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.951fce62.chunk.js","sourcesContent":["import { REQUEST_RESOURCE, FETCH_RESOURCE_SUCCESS } from '../types/index';\n\nexport const isFetching = (resource) => {\n\treturn (state = false, action) => {\n\t\tif (resource !== action.resource) {\n\t\t\treturn state;\n\t\t}\n\n\t\tswitch (action.type) {\n\t\t\tcase REQUEST_RESOURCE:\n\t\t\t\treturn true;\n\t\t\tcase FETCH_RESOURCE_SUCCESS:\n\t\t\t\treturn false;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n};\n","import { FETCH_SERVICES_SUCCESS } from '../types/index';\nimport { combineReducers } from 'redux';\n\nconst initServices = () => {\n\tconst all = (state = [], action) => {\n\t\tswitch (action.type) {\n\t\t\tcase FETCH_SERVICES_SUCCESS:\n\t\t\t\treturn action.services;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\treturn combineReducers({ all });\n};\n\nconst services = initServices();\n\nexport default services;\n","export const FETCH_SERVICES_SUCCESS = 'FETCH_SERVICES_SUCCESS';\nexport const FETCH_SERVICE_SUCCESS = 'FETCH_SERVICE_SUCCESS';\nexport const REQUEST_SERVICE = 'REQUEST_SERVICE';\nexport const SET_AUTH_USER = 'SET_AUTH_USER';\nexport const RESET_AUTH_STATE = 'RESET_AUTH_STATE';\nexport const FETCH_USER_SERVICES_SUCCESS = 'FETCH_USER_SERVICES_SUCCESS';\n\nexport const FETCH_OFFERS_SUCCESS = 'FETCH_OFFERS_SUCCESS';\nexport const CHANGE_OFFER_STATUS = 'CHANGE_OFFER_STATUS';\nexport const COLLABORATION_CREATED_FROM_OFFER =\n\t'COLLABORATION_CREATED_FROM_OFFER';\n\nexport const FETCH_USER_MESSAGES_SUCCESS = 'FETCH_USER_MESSAGES_SUCCESS';\nexport const MARK_MESSAGE_AS_READ = 'MARK_MESSAGE_AS_READ';\n\nexport const SET_COLLABORATION = 'SET_COLLABORATION';\nexport const SET_COLLABORATION_JOINED_PEOPLE =\n\t'SET_COLLABORATION_JOINED_PEOPLE';\nexport const UPDATE_COLLABORATION_USER = 'UPDATE_COLLABORATION_USER';\n\nexport const SET_COLLABORATION_MESSAGES = 'SET_COLLABORATION_MESSAGES';\nexport const RESET_COLLABORATION_MESSAGES = 'RESET_COLLABORATION_MESSAGES';\nexport const REMOVE_COLLABORATION_MESSAGE = 'REMOVE_COLLABORATION_MESSAGE';\n\nexport const REQUEST_RESOURCE = 'REQUEST_RESOURCE';\nexport const FETCH_RESOURCE_SUCCESS = 'FETCH_RESOURCE_SUCCESS';\n","import { FETCH_SERVICE_SUCCESS, REQUEST_SERVICE } from '../types/index';\nimport { combineReducers } from 'redux';\n\nconst initSelectedService = () => {\n\tconst item = (state = {}, action) => {\n\t\tswitch (action.type) {\n\t\t\tcase FETCH_SERVICE_SUCCESS:\n\t\t\t\treturn action.service;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\tconst isFetching = (state = false, action) => {\n\t\tswitch (action.type) {\n\t\t\tcase REQUEST_SERVICE:\n\t\t\t\treturn true;\n\t\t\tcase FETCH_SERVICE_SUCCESS:\n\t\t\t\treturn false;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\treturn combineReducers({\n\t\titem,\n\t\tisFetching\n\t});\n};\n\nconst selectedService = initSelectedService();\nexport default selectedService;\n","import {\n\tSET_AUTH_USER,\n\tRESET_AUTH_STATE,\n\tFETCH_USER_SERVICES_SUCCESS,\n\tFETCH_USER_MESSAGES_SUCCESS\n} from '../types/index';\nimport { combineReducers } from 'redux';\n\nconst initAuth = () => {\n\tconst user = (state = {}, action) => {\n\t\tswitch (action.type) {\n\t\t\tcase SET_AUTH_USER:\n\t\t\t\treturn action.user;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\tconst messages = (state = [], action) => {\n\t\tswitch (action.type) {\n\t\t\tcase FETCH_USER_MESSAGES_SUCCESS:\n\t\t\t\treturn action.messages;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\tconst services = (state = [], action) => {\n\t\tswitch (action.type) {\n\t\t\tcase FETCH_USER_SERVICES_SUCCESS:\n\t\t\t\treturn action.services;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\tconst isAuth = (state = false, action) => {\n\t\tswitch (action.type) {\n\t\t\tcase SET_AUTH_USER:\n\t\t\t\treturn !!action.user;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\tconst isAuthResolved = (state = false, action) => {\n\t\tswitch (action.type) {\n\t\t\tcase SET_AUTH_USER:\n\t\t\t\treturn true;\n\t\t\tcase RESET_AUTH_STATE:\n\t\t\t\treturn false;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\treturn combineReducers({\n\t\tuser,\n\t\tisAuth,\n\t\tisAuthResolved,\n\t\tmessages,\n\t\tservices\n\t});\n};\n\nconst auth = initAuth();\nexport default auth;\n","import { combineReducers } from 'redux';\nimport { isFetching } from './common';\nimport {\n\tCHANGE_OFFER_STATUS,\n\tFETCH_OFFERS_SUCCESS,\n\tCOLLABORATION_CREATED_FROM_OFFER\n} from '../types/index';\n\nconst createOfferList = (offersType) => {\n\treturn (state = [], action) => {\n\t\tif (action.offersType !== offersType) {\n\t\t\treturn state;\n\t\t}\n\n\t\tswitch (action.type) {\n\t\t\tcase FETCH_OFFERS_SUCCESS:\n\t\t\t\treturn action.offers;\n\t\t\tcase CHANGE_OFFER_STATUS: {\n\t\t\t\tconst nextState = [...state];\n\t\t\t\tconst offerIndex = nextState.findIndex((o) => o.id === action.offerId);\n\t\t\t\tnextState[offerIndex].status = action.status;\n\t\t\t\treturn nextState;\n\t\t\t}\n\t\t\tcase COLLABORATION_CREATED_FROM_OFFER: {\n\t\t\t\tconst nextState = [...state];\n\t\t\t\tconst offerIndex = nextState.findIndex((o) => o.id === action.offerId);\n\t\t\t\tnextState[offerIndex].collaborationCreated = true;\n\t\t\t\treturn nextState;\n\t\t\t}\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n};\n\nconst offers = combineReducers({\n\treceived: createOfferList('received'),\n\tsent: createOfferList('sent'),\n\tisFetching: isFetching('offers')\n});\n\nexport default offers;\n","import { combineReducers } from 'redux';\nimport {\n\tSET_COLLABORATION,\n\tSET_COLLABORATION_JOINED_PEOPLE,\n\tUPDATE_COLLABORATION_USER,\n\tSET_COLLABORATION_MESSAGES,\n\tRESET_COLLABORATION_MESSAGES,\n\tREMOVE_COLLABORATION_MESSAGE\n} from '../types/index';\n\nconst initCollab = () => {\n\tconst collaboration = (state = {}, action) => {\n\t\tswitch (action.type) {\n\t\t\tcase SET_COLLABORATION:\n\t\t\t\treturn action.collaboration;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\tconst joinedPeople = (state = [], action) => {\n\t\tswitch (action.type) {\n\t\t\tcase SET_COLLABORATION_JOINED_PEOPLE:\n\t\t\t\treturn action.joinedPeople;\n\t\t\tcase UPDATE_COLLABORATION_USER:\n\t\t\t\tconst newJoinedPeople = [...state];\n\t\t\t\tconst { user } = action;\n\t\t\t\tconst index = newJoinedPeople.findIndex((jp) => jp.uid === user.uid);\n\n\t\t\t\tif (index < 0) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\t\t\t\tif (newJoinedPeople[index].state === user.state) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tnewJoinedPeople[index].state = user.state;\n\t\t\t\treturn newJoinedPeople;\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\tconst messages = (state = [], action) => {\n\t\tswitch (action.type) {\n\t\t\tcase SET_COLLABORATION_MESSAGES:\n\t\t\t\tconst newMessages = [...state];\n\t\t\t\taction.messages.forEach((change) => {\n\t\t\t\t\tif (change.type === 'added') {\n\t\t\t\t\t\tnewMessages.push({ id: change.doc.id, ...change.doc.data() });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn newMessages;\n\t\t\tcase REMOVE_COLLABORATION_MESSAGE:\n\t\t\t\treturn state.filter((m) => m.id !== action.messageId);\n\t\t\tcase RESET_COLLABORATION_MESSAGES:\n\t\t\t\treturn [];\n\t\t\tdefault:\n\t\t\t\treturn state;\n\t\t}\n\t};\n\n\treturn combineReducers({\n\t\tjoined: collaboration,\n\t\tjoinedPeople,\n\t\tmessages\n\t});\n};\n\nconst collaboration = initCollab();\nexport default collaboration;\n","import { combineReducers } from 'redux';\nimport services from './services';\nimport selectedService from './selectedService';\nimport auth from './auth';\nimport offers from './offers';\nimport collaboration from './collaboration';\n\nconst serviceApp = combineReducers({\n\tservices,\n\tselectedService,\n\tauth,\n\toffers,\n\tcollaboration\n});\n\nexport const getMessages = (state) => state.auth.messages;\nexport default serviceApp;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport logger from 'redux-logger';\nimport serviceApp from '../reducers/index';\n\n// FUNCTION TO CREATE THE STORE\nconst createdStore = () => {\n\tconst middlewares = [thunk];\n\tconst composeEnhancers =\n\t\twindow.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n\tif (process.env.NODE_ENV !== 'production') {\n\t\tmiddlewares.push(logger);\n\t}\n\n\tconst store = createStore(\n\t\tserviceApp,\n\t\tcomposeEnhancers(applyMiddleware(...middlewares))\n\t);\n\n\treturn store;\n};\n\nexport default createdStore;\n","/* eslint jsx-a11y/anchor-is-valid: 0 */\n\nimport React from 'react';\n\nconst Sidebar = () => {\n\treturn (\n\t\t<div className='sidebar'>\n\t\t\t<div className='sidebar-header'>\n\t\t\t\t<div className='sidebar-title'>Menu</div>\n\t\t\t\t<a className='sidebar-close'>\n\t\t\t\t\t<i className='fa fa-times-circle'></i>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div className='inner'>\n\t\t\t\t<ul className='sidebar-menu'>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span className='nav-section-title'></span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='have-children'>\n\t\t\t\t\t\t<a href='#'>User</a>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href='#'>Profile</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href='#'>Account</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href='#'>Settings</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='have-children'>\n\t\t\t\t\t\t<a href='#'>Messages</a>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href='#'>Inbox</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href='#'>Compose</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='have-children'>\n\t\t\t\t\t\t<a href='#'>Images</a>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href='#'>Library</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href='#'>Upload</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className='have-children'>\n\t\t\t\t\t\t<a href='#'>Settings</a>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href='#'>User settings</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href='#'>App settings</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Sidebar;\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\n\nconst db = firebase\n\t.initializeApp({\n\t\tapiKey: 'AIzaSyC21aIJDqnICdU_8EksgEdSn1ldd2AQ-Oc',\n\t\tauthDomain: 'servicario-aed11.firebaseapp.com',\n\t\tdatabaseURL: 'https://servicario-aed11.firebaseio.com',\n\t\tprojectId: 'servicario-aed11',\n\t\tstorageBucket: 'servicario-aed11.appspot.com',\n\t\tmessagingSenderId: '827333802715',\n\t\tappId: '1:827333802715:web:d9f84bc3bdb80e9dcbaafe'\n\t})\n\t.firestore();\n\nexport default db;\n\nexport const { Timestamp } = firebase.firestore;\n","import firebase from 'firebase/app';\nimport 'firebase/auth';\nimport db from '../db/index';\n\n// ------------------------------------AUTH -------------------------------------------------\nconst createUserProfile = (userProfile) => {\n\treturn db\n\t\t.collection('profiles')\n\t\t.doc(userProfile.uid)\n\t\t.set(userProfile);\n};\n\nexport const register = async ({ email, password, fullName, avatar }) => {\n\ttry {\n\t\tconst res = await firebase\n\t\t\t.auth()\n\t\t\t.createUserWithEmailAndPassword(email, password);\n\t\tconst { user } = res;\n\t\tconst userProfile = {\n\t\t\tuid: user.uid,\n\t\t\tfullName,\n\t\t\temail,\n\t\t\tavatar,\n\t\t\tservices: [],\n\t\t\tdescription: ''\n\t\t};\n\t\tawait createUserProfile(userProfile);\n\t\treturn userProfile;\n\t} catch (error) {\n\t\tconst errorMessage = error.message;\n\t\treturn Promise.reject(errorMessage);\n\t}\n};\n\nexport const login = ({ email, password }) => {\n\treturn firebase\n\t\t.auth()\n\t\t.signInWithEmailAndPassword(email, password)\n\t\t.catch((error) => Promise.reject(error.message));\n};\n\nexport const logout = () => firebase.auth().signOut();\n\nexport const onAuthStateChange = (onAuthCallback) => {\n\treturn firebase.auth().onAuthStateChanged(onAuthCallback);\n};\n\nexport const getUserProfile = (uid) =>\n\tdb\n\t\t.collection('profiles')\n\t\t.doc(uid)\n\t\t.get()\n\t\t.then((snapshot) => ({ uid, ...snapshot.data() }));\n","import db from '../db/index';\nimport { createRef } from './index';\n\nexport const createOffer = (offer) => {\n\treturn db.collection('offers').add(offer);\n};\n\nexport const fetchSentOffers = (userId) => {\n\tconst userRef = createRef('profiles', userId);\n\treturn db\n\t\t.collection('offers')\n\t\t.where('fromUser', '==', userRef)\n\t\t.get()\n\t\t.then((snapshot) =>\n\t\t\tsnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }))\n\t\t);\n};\n\nexport const fetchRecievedOffers = (userId) => {\n\tconst userRef = createRef('profiles', userId);\n\treturn db\n\t\t.collection('offers')\n\t\t.where('toUser', '==', userRef)\n\t\t.get()\n\t\t.then((snapshot) =>\n\t\t\tsnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }))\n\t\t);\n};\n\nexport const changeOfferStatus = (offerId, status) => {\n\treturn db\n\t\t.collection('offers')\n\t\t.doc(offerId)\n\t\t.update({ status });\n};\n\nexport const markOfferAsInCollaboration = (offerId) => {\n\treturn db\n\t\t.collection('offers')\n\t\t.doc(offerId)\n\t\t.update({ collaborationCreated: true });\n};\n","import firebase from 'firebase/app';\nimport 'firebase/database';\n\nexport const createFirebaseRef = (collection, id) =>\n\tfirebase.database().ref(`/${collection}/${id}`);\n\nexport const isOfflineForDatabase = {\n\tstate: 'offline',\n\tlast_changed: firebase.database.ServerValue.TIMESTAMP\n};\n\nexport const isOnlineForDatabase = {\n\tstate: 'online',\n\tlast_changed: firebase.database.ServerValue.TIMESTAMP\n};\n\nexport const onConnectionChanged = (callback) =>\n\tfirebase\n\t\t.database()\n\t\t.ref('.info/connected')\n\t\t.on('value', (snapshot) => {\n\t\t\tcallback(snapshot.val());\n\t\t});\n","import 'firebase/auth';\nimport db from '../db/index';\n\n//export const createUserRef = (uid) => db.doc('profiles/' + uid)\n\nexport const createRef = (collection, docId) =>\n\tdb.doc(`${collection}/` + docId);\n\nexport * from './services';\nexport * from './auth';\nexport * from './offers';\nexport * from './collaborations';\nexport * from './connection';\n","import {\n\tFETCH_SERVICES_SUCCESS,\n\tFETCH_SERVICE_SUCCESS,\n\tREQUEST_SERVICE,\n\tFETCH_USER_SERVICES_SUCCESS\n} from '../types/index';\n\nimport * as api from '../api/index';\n\n//-------------------------SERVICES STARTS---------------------------\nexport const fetchServices = () => (dispatch) => {\n\treturn api.fetchServices().then((services) =>\n\t\tdispatch({\n\t\t\ttype: FETCH_SERVICES_SUCCESS,\n\t\t\tservices: services\n\t\t})\n\t);\n};\n\nexport const fetchUserServices = (userId) => (dispatch) =>\n\tapi\n\t\t.fetchUserServices(userId)\n\t\t.then((services) =>\n\t\t\tdispatch({ type: FETCH_USER_SERVICES_SUCCESS, services })\n\t\t);\n\nexport const fetchServiceById = (serviceId) => (dispatch, getState) => {\n\tconst lastService = getState().selectedService.item;\n\n\tif (lastService.id && lastService.id === serviceId) {\n\t\treturn Promise.resolve();\n\t}\n\n\tdispatch({ type: REQUEST_SERVICE });\n\treturn api.fetchServiceById(serviceId).then(async (service) => {\n\t\t//service.user = await api.getUserProfile(service.user);\n\t\tconst user = await service.user.get();\n\t\tservice.user = user.data();\n\t\tservice.user.id = user.id;\n\t\tdispatch({ type: FETCH_SERVICE_SUCCESS, service });\n\t});\n};\n\nexport const createService = (newService, userId) => {\n\tnewService.price = parseInt(newService.price, 10);\n\tnewService.user = api.createRef('profiles', userId);\n\n\treturn api.createService(newService);\n};\n//---------------------------------SERVICES ENDS---------------------------\n","import db from '../db/index';\n\nimport { createRef } from './index';\n\nexport const fetchServiceById = (serviceId) =>\n\tdb\n\t\t.collection('services')\n\t\t.doc(serviceId)\n\t\t.get()\n\t\t.then((snapshot) => ({ id: snapshot.id, ...snapshot.data() }));\n\nexport const fetchServices = () =>\n\tdb\n\t\t.collection('services')\n\t\t.get()\n\t\t.then((snapshot) => {\n\t\t\tconst services = snapshot.docs.map((doc) => ({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data()\n\t\t\t}));\n\t\t\treturn services;\n\t\t});\n\nexport const fetchUserServices = (userId) => {\n\tconst userRef = createRef('profiles', userId);\n\treturn db\n\t\t.collection('services')\n\t\t.where('user', '==', userRef)\n\t\t.get()\n\t\t.then((snapshot) => {\n\t\t\tconst services = snapshot.docs.map((doc) => ({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data()\n\t\t\t}));\n\t\t\treturn services;\n\t\t});\n};\n\nexport const createService = (newService) => {\n\treturn db\n\t\t.collection('services')\n\t\t.add(newService)\n\t\t.then((docRef) => docRef.id);\n};\n","import { SET_AUTH_USER, RESET_AUTH_STATE } from '../types/index';\n\nimport * as api from '../api/index';\n\n// ------------------AUTH STARTS-------------------------------------\n\nexport const register = (registerFormData) => {\n\treturn api.register({ ...registerFormData });\n};\n\nexport const login = (loginData) => {\n\treturn api.login({ ...loginData });\n};\n\nexport const logout = (uid) => (dispatch) =>\n\tapi\n\t\t.logout()\n\t\t.then((_) => {\n\t\t\tconst userStatusDatabaseRef = api.createFirebaseRef('status', uid);\n\t\t\treturn userStatusDatabaseRef.set(api.isOfflineForDatabase);\n\t\t})\n\t\t.then((_) => dispatch({ user: null, type: SET_AUTH_USER }));\n\nexport const onAuthStateChange = (onAuthCallback) => {\n\treturn api.onAuthStateChange(onAuthCallback);\n};\n\nexport const storeAuthUser = (authUser) => (dispatch) => {\n\tdispatch({ type: RESET_AUTH_STATE });\n\tif (authUser) {\n\t\treturn api.getUserProfile(authUser.uid).then((userWithProfile) => {\n\t\t\tdispatch({ user: userWithProfile, type: SET_AUTH_USER });\n\t\t\treturn userWithProfile;\n\t\t});\n\t} else {\n\t\treturn dispatch({ user: null, type: SET_AUTH_USER });\n\t}\n};\n\n//---------------------------AUTH ENDS-------------------------------\n","import {\n\tFETCH_OFFERS_SUCCESS,\n\tCHANGE_OFFER_STATUS,\n\tREQUEST_RESOURCE,\n\tFETCH_RESOURCE_SUCCESS\n} from '../types/index';\n\nimport * as api from '../api/index';\n\nexport const createOffer = (offer) => api.createOffer(offer);\n\nconst extractDataFromOffer = async (offer, userType) => {\n\tconst service = await offer.service.get();\n\tconst user = await offer[userType].get();\n\n\toffer.service = service.data();\n\toffer.service.id = service.id;\n\toffer[userType] = user.data();\n\n\treturn offer;\n};\n\nexport const fetchSentOffers = (userId) => (dispatch) => {\n\tdispatch({ type: REQUEST_RESOURCE, resource: 'offers' });\n\treturn api.fetchSentOffers(userId).then(async (offers) => {\n\t\tconst mappedOffers = await Promise.all(\n\t\t\toffers.map((offer) => extractDataFromOffer(offer, 'toUser'))\n\t\t);\n\n\t\tdispatch({ type: FETCH_RESOURCE_SUCCESS, resource: 'offers' });\n\t\tdispatch({\n\t\t\ttype: FETCH_OFFERS_SUCCESS,\n\t\t\toffers: mappedOffers,\n\t\t\toffersType: 'sent'\n\t\t});\n\t\treturn mappedOffers;\n\t});\n};\n\nexport const fetchRecievedOffers = (userId) => (dispatch) => {\n\tdispatch({ type: REQUEST_RESOURCE, resource: 'offers' });\n\treturn api.fetchRecievedOffers(userId).then(async (offers) => {\n\t\tconst mappedOffers = await Promise.all(\n\t\t\toffers.map((offer) => extractDataFromOffer(offer, 'fromUser'))\n\t\t);\n\n\t\tdispatch({ type: FETCH_RESOURCE_SUCCESS, resource: 'offers' });\n\t\tdispatch({\n\t\t\ttype: FETCH_OFFERS_SUCCESS,\n\t\t\toffers: mappedOffers,\n\t\t\toffersType: 'received'\n\t\t});\n\t\treturn mappedOffers;\n\t});\n};\n\nexport const acceptOffer = (offerId) => (dispatch) =>\n\tapi.changeOfferStatus(offerId, 'accepted').then((_) =>\n\t\tdispatch({\n\t\t\ttype: CHANGE_OFFER_STATUS,\n\t\t\tstatus: 'accepted',\n\t\t\tofferId,\n\t\t\toffersType: 'received'\n\t\t})\n\t);\n\nexport const declineOffer = (offerId) => (dispatch) =>\n\tapi.changeOfferStatus(offerId, 'declined').then((_) =>\n\t\tdispatch({\n\t\t\ttype: CHANGE_OFFER_STATUS,\n\t\t\tofferId,\n\t\t\tstatus: 'declined',\n\t\t\toffersType: 'received'\n\t\t})\n\t);\n\nexport const changeOfferStatus = (offerId, status) => (dispatch) =>\n\tapi.changeOfferStatus(offerId, status).then((_) =>\n\t\tdispatch({\n\t\t\ttype: CHANGE_OFFER_STATUS,\n\t\t\tofferId,\n\t\t\tstatus,\n\t\t\toffersType: 'received'\n\t\t})\n\t);\n","import {\n\tCOLLABORATION_CREATED_FROM_OFFER,\n\tFETCH_USER_MESSAGES_SUCCESS,\n\tSET_COLLABORATION,\n\tSET_COLLABORATION_JOINED_PEOPLE,\n\tUPDATE_COLLABORATION_USER,\n\tSET_COLLABORATION_MESSAGES,\n\tRESET_COLLABORATION_MESSAGES,\n\tREMOVE_COLLABORATION_MESSAGE\n} from '../types/index';\nimport * as api from '../api/index';\n\nexport const collaborate = ({ collaboration, message }) => (dispatch) =>\n\tapi.createCollaboration(collaboration).then((collabId) => {\n\t\tmessage.cta = `/collaborations/${collabId}`;\n\t\tapi.sendMessage(message);\n\t\tapi.markOfferAsInCollaboration(collaboration.fromOffer);\n\t\tdispatch({\n\t\t\ttype: COLLABORATION_CREATED_FROM_OFFER,\n\t\t\tofferId: collaboration.fromOffer,\n\t\t\toffersType: 'sent'\n\t\t});\n\t\treturn collabId;\n\t});\n\nexport const subscribeToMessages = (userId) => (dispatch) =>\n\tapi.subscribeToMessages(userId, (messages) =>\n\t\tdispatch({ type: FETCH_USER_MESSAGES_SUCCESS, messages })\n\t);\n\n// export const markMessageAsRead = message => dispatch =>\n//   api.markMessageAsRead(message)\n//      .then(_ => dispatch({type: MARK_MESSAGE_AS_READ, messageId: message.id}))\n\nexport const markMessageAsRead = (message) => api.markMessageAsRead(message);\n\nexport const fetchCollaborations = (userId) => api.fetchCollaborations(userId);\n\nexport const subToCollaboration = (collabId, done) => (dispatch) =>\n\tapi.subToCollaboration(collabId, async (collaboration) => {\n\t\tlet joinedPeople = [];\n\n\t\tif (collaboration.joinedPeople) {\n\t\t\tjoinedPeople = await Promise.all(\n\t\t\t\tcollaboration.joinedPeople.map(async (userRef) => {\n\t\t\t\t\tconst userSnapshot = await userRef.get();\n\t\t\t\t\treturn { id: userSnapshot.id, ...userSnapshot.data() };\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\tdispatch({ type: SET_COLLABORATION, collaboration });\n\t\tdispatch({ type: SET_COLLABORATION_JOINED_PEOPLE, joinedPeople });\n\t\tdone({ joinedPeople });\n\t});\n\nexport const joinCollaboration = (collabId, userId) =>\n\tapi.joinCollaboration(collabId, userId);\n\nexport const leaveCollaboration = (collabId, userId) =>\n\tapi.leaveCollaboration(collabId, userId);\n\nexport const subToProfile = (uid) => (dispatch) =>\n\tapi.subToProfile(uid, (user) =>\n\t\tdispatch({ type: UPDATE_COLLABORATION_USER, user })\n\t);\n\nexport const sendChatMessage = (message) => (dispatch) => {\n\treturn api.sendChatMessage(message).catch((err) => {\n\t\tdispatch({\n\t\t\ttype: REMOVE_COLLABORATION_MESSAGE,\n\t\t\tmessageId: message.timestamp\n\t\t});\n\t\treturn Promise.reject('Collaboration is expired!');\n\t});\n};\n\nexport const subToMessages = (collabId) => (dispatch) => {\n\tdispatch({ type: RESET_COLLABORATION_MESSAGES });\n\treturn api.subToMessages(collabId, (messages) => {\n\t\tdispatch({ type: SET_COLLABORATION_MESSAGES, messages });\n\t});\n};\n\nexport const startCollaboration = (collabId, expiresAt) =>\n\tapi.startCollaboration(collabId, expiresAt);\n","import db from '../db/index';\nimport firebase from 'firebase/app';\nimport { createRef } from './index';\n\nexport const createCollaboration = (collab) =>\n\tdb\n\t\t.collection('collaborations')\n\t\t.add(collab)\n\t\t.then((docRef) => docRef.id);\n\nexport const sendMessage = (message) =>\n\tdb\n\t\t.collection('profiles')\n\t\t.doc(message.toUser)\n\t\t.collection('messages')\n\t\t.add(message);\n\nexport const subscribeToMessages = (userId, callback) =>\n\tdb\n\t\t.collection('profiles')\n\t\t.doc(userId)\n\t\t.collection('messages')\n\t\t.onSnapshot((snapshot) => {\n\t\t\tconst messages = snapshot.docs.map((doc) => ({\n\t\t\t\tid: doc.id,\n\t\t\t\t...doc.data()\n\t\t\t}));\n\t\t\tcallback(messages);\n\t\t});\n\nexport const markMessageAsRead = (message) =>\n\tdb\n\t\t.collection('profiles')\n\t\t.doc(message.toUser)\n\t\t.collection('messages')\n\t\t.doc(message.id)\n\t\t.update({ isRead: true });\n\nexport const fetchCollaborations = (userId) =>\n\tdb\n\t\t.collection('collaborations')\n\t\t.where('allowedPeople', 'array-contains', userId)\n\t\t.get()\n\t\t.then((snapshot) =>\n\t\t\tsnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }))\n\t\t);\n\nexport const subToCollaboration = (collabId, done) =>\n\tdb\n\t\t.collection('collaborations')\n\t\t.doc(collabId)\n\t\t.onSnapshot((snapshot) => {\n\t\t\tconst collab = { id: snapshot.id, ...snapshot.data() };\n\t\t\tdone(collab);\n\t\t});\n\nexport const joinCollaboration = (collabId, uid) => {\n\tconst userRef = createRef('profiles', uid);\n\n\treturn db\n\t\t.collection('collaborations')\n\t\t.doc(collabId)\n\t\t.update({\n\t\t\tjoinedPeople: firebase.firestore.FieldValue.arrayUnion(userRef)\n\t\t});\n};\n\nexport const leaveCollaboration = (collabId, uid) => {\n\tconst userRef = createRef('profiles', uid);\n\n\treturn db\n\t\t.collection('collaborations')\n\t\t.doc(collabId)\n\t\t.update({\n\t\t\tjoinedPeople: firebase.firestore.FieldValue.arrayRemove(userRef)\n\t\t});\n};\n\nexport const subToProfile = (uid, done) =>\n\tdb\n\t\t.collection('profiles')\n\t\t.doc(uid)\n\t\t.onSnapshot((snapshot) => {\n\t\t\tconst user = { id: snapshot.id, ...snapshot.data() };\n\t\t\tdone(user);\n\t\t});\n\nexport const sendChatMessage = ({ message, collabId, timestamp }) =>\n\tdb\n\t\t.collection('collaborations')\n\t\t.doc(collabId)\n\t\t.collection('messages')\n\t\t.doc(timestamp)\n\t\t.set(message);\n\nexport const subToMessages = (collabId, done) =>\n\tdb\n\t\t.collection('collaborations')\n\t\t.doc(collabId)\n\t\t.collection('messages')\n\t\t.onSnapshot((snapshot) => done(snapshot.docChanges()));\n\nexport const startCollaboration = (collabId, expiresAt) =>\n\tdb\n\t\t.collection('collaborations')\n\t\t.doc(collabId)\n\t\t.update({ expiresAt });\n","import * as api from '../api/index';\n\nexport const checkUserConnection = (uid) => {\n\tconst userStatusDatabaseRef = api.createFirebaseRef('status', uid);\n\n\tapi.onConnectionChanged((isConnected) => {\n\t\tif (!isConnected) {\n\t\t\tuserStatusDatabaseRef.set(api.isOfflineForDatabase);\n\t\t\treturn null;\n\t\t}\n\n\t\tuserStatusDatabaseRef\n\t\t\t.onDisconnect()\n\t\t\t.set(api.isOfflineForDatabase)\n\t\t\t.then((_) => userStatusDatabaseRef.set(api.isOnlineForDatabase));\n\t});\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { getMessages } from '../reducers/index';\n//import { Link } from 'react-router-dom';\nimport { markMessageAsRead } from '../actions/index';\nimport { useHistory } from 'react-router-dom';\n\nconst ReceivedMessages = ({ dispatch, messages }) => {\n\tconst history = useHistory();\n\n\tconst handleMessageAsRead = (message) => {\n\t\tmarkMessageAsRead(message);\n\t};\n\n\tconst goToCollaboration = (message) => {\n\t\tmarkMessageAsRead(message);\n\t\thistory.push(message.cta);\n\t};\n\n\tconst renderMessages = (messages) => {\n\t\tconst filteredMessages = messages\n\t\t\t.filter((m) => !m.isRead)\n\t\t\t.map((message) => (\n\t\t\t\t<div key={message.id}>\n\t\t\t\t\t<div className='from-user'>\n\t\t\t\t\t\t<span>From: </span>\n\t\t\t\t\t\t{message.fromUser.name}\n\t\t\t\t\t</div>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<div className='navbar-item navbar-item-message'>\n\t\t\t\t\t\t<div>{message.text}</div>\n\t\t\t\t\t\t<div onClick={() => goToCollaboration(message)}>\n\t\t\t\t\t\t\t<div className='button is-success'>Join</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => handleMessageAsRead(message)}\n\t\t\t\t\t\t\tclassName='button is-warning'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLater\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t));\n\n\t\tif (filteredMessages.length === 0) {\n\t\t\treturn <div className='navbar-item'>No Messages :(</div>;\n\t\t}\n\n\t\treturn filteredMessages;\n\t};\n\n\treturn renderMessages(messages);\n};\n\nconst mapStateToProps = (state) => ({ messages: getMessages(state) });\n\nexport default connect(mapStateToProps)(ReceivedMessages);\n","/* eslint jsx-a11y/anchor-is-valid: 0 */\n\nimport React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport ReceivedMessages from './RecievedMessages';\n\nconst Navbar = (props) => {\n\tconst { user, isAuth, messages } = props.auth;\n\tconst { loadFresh } = props;\n\n\tuseEffect(() => {\n\t\tif (!loadFresh) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst script = document.createElement('script');\n\t\tscript.src = `${process.env.PUBLIC_URL}/js/fresh.js`;\n\t\tscript.async = true;\n\t\tdocument.body.appendChild(script);\n\t}, [loadFresh]);\n\n\treturn (\n\t\t<nav\n\t\t\tid={props.id || ''}\n\t\t\tclassName='navbar is-fresh is-transparent no-shadow'\n\t\t\trole='navigation'\n\t\t\taria-label='main navigation'\n\t\t>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='navbar-brand'>\n\t\t\t\t\t<Link to='/' className='navbar-item'>\n\t\t\t\t\t\t<div className='title'>Servicario</div>\n\t\t\t\t\t</Link>\n\n\t\t\t\t\t<a className='navbar-item is-hidden-desktop is-hidden-tablet'>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid='menu-icon-wrapper'\n\t\t\t\t\t\t\tclassName='menu-icon-wrapper'\n\t\t\t\t\t\t\tstyle={{ visibility: 'visible' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<svg width='1000px' height='1000px'>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tclassName='path1'\n\t\t\t\t\t\t\t\t\td='M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800'\n\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t<path className='path2' d='M 300 500 L 700 500'></path>\n\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\tclassName='path3'\n\t\t\t\t\t\t\t\t\td='M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200'\n\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tid='menu-icon-trigger'\n\t\t\t\t\t\t\t\tclassName='menu-icon-trigger'\n\t\t\t\t\t\t\t></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>\n\n\t\t\t\t\t<a\n\t\t\t\t\t\trole='button'\n\t\t\t\t\t\tclassName='navbar-burger'\n\t\t\t\t\t\taria-label='menu'\n\t\t\t\t\t\taria-expanded='false'\n\t\t\t\t\t\tdata-target='navbar-menu'\n\t\t\t\t\t>\n\t\t\t\t\t\t<span aria-hidden='true'></span>\n\t\t\t\t\t\t<span aria-hidden='true'></span>\n\t\t\t\t\t\t<span aria-hidden='true'></span>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\n\t\t\t\t<div id='navbar-menu' className='navbar-menu is-static'>\n\t\t\t\t\t<div className='navbar-start'>\n\t\t\t\t\t\t<a className='navbar-item is-hidden-mobile'>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tid='menu-icon-wrapper'\n\t\t\t\t\t\t\t\tclassName='menu-icon-wrapper'\n\t\t\t\t\t\t\t\tstyle={{ visibility: 'visible' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<svg width='1000px' height='1000px'>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tclassName='path1'\n\t\t\t\t\t\t\t\t\t\td='M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800'\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t\t<path className='path2' d='M 300 500 L 700 500'></path>\n\t\t\t\t\t\t\t\t\t<path\n\t\t\t\t\t\t\t\t\t\tclassName='path3'\n\t\t\t\t\t\t\t\t\t\td='M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200'\n\t\t\t\t\t\t\t\t\t></path>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tid='menu-icon-trigger'\n\t\t\t\t\t\t\t\t\tclassName='menu-icon-trigger'\n\t\t\t\t\t\t\t\t></button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className='navbar-end'>\n\t\t\t\t\t\t{isAuth && (\n\t\t\t\t\t\t\t<div className='navbar-item is-secondary user-welcome'>\n\t\t\t\t\t\t\t\t{`Hi ${user.fullName}`}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<Link to='/' className='navbar-item is-secondary'>\n\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t<Link to='/faq' className='navbar-item is-secondary'>\n\t\t\t\t\t\t\tFaq\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t{isAuth && (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<div className='navbar-item has-dropdown is-hoverable'>\n\t\t\t\t\t\t\t\t\t<a className='navbar-link'>Manage</a>\n\t\t\t\t\t\t\t\t\t<div className='navbar-dropdown'>\n\t\t\t\t\t\t\t\t\t\t<Link to='/services/new' className='navbar-item'>\n\t\t\t\t\t\t\t\t\t\t\tCreate Service\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<Link to='/services/me' className='navbar-item'>\n\t\t\t\t\t\t\t\t\t\t\tYour Services\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<Link to='/offers/sent' className='navbar-item'>\n\t\t\t\t\t\t\t\t\t\t\tSent Offers\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<Link to='/offers/received' className='navbar-item'>\n\t\t\t\t\t\t\t\t\t\t\tReceived Offers\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t<Link to='/collaborations/me' className='navbar-item'>\n\t\t\t\t\t\t\t\t\t\t\tReceived Collaborations\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='navbar-item has-dropdown is-hoverable'>\n\t\t\t\t\t\t\t\t\t<a className='navbar-link'>Messages</a>\n\t\t\t\t\t\t\t\t\t<div className='navbar-dropdown navbar-dropdown-messages'>\n\t\t\t\t\t\t\t\t\t\t{messages && <ReceivedMessages />}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!isAuth && (\n\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/login'\n\t\t\t\t\t\t\t\t\tclassName='navbar-item is-secondary modal-trigger'\n\t\t\t\t\t\t\t\t\tdata-modal='auth-modal'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tLogin\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t<Link to='/register' className='navbar-item'>\n\t\t\t\t\t\t\t\t\t<span className='button signup-button rounded secondary-btn raised'>\n\t\t\t\t\t\t\t\t\t\tRegister\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{isAuth && (\n\t\t\t\t\t\t\t<Link to='/logout' className='navbar-item'>\n\t\t\t\t\t\t\t\t<span className='button signup-button is-danger rounded raised'>\n\t\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</nav>\n\t);\n};\n\nexport default Navbar;\n","import React from 'react';\n\nconst Hero = () => {\n\treturn (\n\t\t<section className='hero is-default is-bold'>\n\t\t\t<div className='hero-body'>\n\t\t\t\t<div className='container'>\n\t\t\t\t\t<div className='columns is-vcentered'>\n\t\t\t\t\t\t<div className='column is-5 is-offset-1 landing-caption'>\n\t\t\t\t\t\t\t<h1 className='title is-1 is-bold is-spaced'>\n\t\t\t\t\t\t\t\tLearn, Collaborate.\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<h2 className='subtitle is-5 is-muted'>\n\t\t\t\t\t\t\t\tLorem ipsum sit dolor amet is a dummy text used by typography\n\t\t\t\t\t\t\t\tindustry{' '}\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t<a href='!#' className='button cta rounded primary-btn raised'>\n\t\t\t\t\t\t\t\t\tGet Started\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='column is-5 is-offset-1'>\n\t\t\t\t\t\t\t<figure className='image is-4by3'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={process.env.PUBLIC_URL + '/worker.svg'}\n\t\t\t\t\t\t\t\t\talt='Description'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t);\n};\n\nexport default Hero;\n","/* eslint jsx-a11y/anchor-is-valid: 0 */\n\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst ServiceItem = ({ service, children, className, noButton }) => {\n\tconst shortText = (text, maxLength = 50) => {\n\t\tif (!text) {\n\t\t\treturn ' ';\n\t\t}\n\t\tif (text.length <= maxLength) {\n\t\t\treturn text;\n\t\t}\n\n\t\treturn text.substr(0, maxLength) + '...';\n\t};\n\n\treturn (\n\t\t<div className='column is-one-third'>\n\t\t\t<div\n\t\t\t\tclassName={`feature-card is-bordered has-text-centered revealOnScroll delay-1 ${className}`}\n\t\t\t\tdata-animation='fadeInLeft'\n\t\t\t>\n\t\t\t\t<div className='card-title'>\n\t\t\t\t\t<h4>{service.title}</h4>\n\t\t\t\t</div>\n\t\t\t\t<div className='card-icon'>\n\t\t\t\t\t<img src={service.image} alt='' />\n\t\t\t\t</div>\n\t\t\t\t<div className='card-text'>\n\t\t\t\t\t<p>{shortText(service.description)}</p>\n\t\t\t\t</div>\n\t\t\t\t{children && <div className='card-text'>{children}</div>}\n\t\t\t\t{!noButton && (\n\t\t\t\t\t<div className='card-action'>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={`/services/${service.id}`}\n\t\t\t\t\t\t\tclassName='button btn-align-md accent-btn raised'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tLearn More\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ServiceItem;\n","/* eslint jsx-a11y/anchor-is-valid: 0 */\n\nimport React from 'react';\nimport { connect } from 'react-redux'; // HOC\nimport Hero from '../components/Hero';\nimport ServiceItem from '../components/service/ServiceItem';\n\nimport { fetchServices } from '../actions/index';\n\nclass Home extends React.Component {\n\tstate = {\n\t\tservices: []\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.props.fetchServices();\n\t}\n\n\trenderServices = (services) =>\n\t\tservices.map((service) => (\n\t\t\t<ServiceItem key={service.id} service={service} />\n\t\t));\n\n\trender() {\n\t\tconst { services } = this.props;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Hero />\n\t\t\t\t<section className='section section-feature-grey is-medium'>\n\t\t\t\t\t<div className='container'>\n\t\t\t\t\t\t<div className='title-wrapper has-text-centered'>\n\t\t\t\t\t\t\t<h2 className='title is-2'>Great Power Comes </h2>\n\t\t\t\t\t\t\t<h3 className='subtitle is-5 is-muted'>\n\t\t\t\t\t\t\t\tWith great Responsability\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t<div className='divider is-centered'></div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className='content-wrapper'>\n\t\t\t\t\t\t\t<div className='columns is-multiline'>\n\t\t\t\t\t\t\t\t{this.renderServices(services)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = (state) => ({ services: state.services.all });\n\nexport default connect(mapStateToProps, { fetchServices })(Home);\n","import React from 'react';\n\nconst Faq = () => {\n\treturn (\n\t\t<div className='container'>\n\t\t\t<div className='content-wrapper'>\n\t\t\t\t<h1 className='title'>FAQ</h1>\n\t\t\t\t<p>\n\t\t\t\t\tContrary to popular belief, Lorem Ipsum is not simply random text. It\n\t\t\t\t\thas roots in a piece of classical Latin literature from 45 BC, making\n\t\t\t\t\tit over 2000 years old. Richard McClintock, a Latin professor at\n\t\t\t\t\tHampden-Sydney College in Virginia, looked up one of the more obscure\n\t\t\t\t\tLatin words, consectetur, from a Lorem Ipsum passage, and going\n\t\t\t\t\tthrough the cites of the word in classical literature, discovered the\n\t\t\t\t\tundoubtable source. Lorem Ipsum comes from sections 1.10.32 and\n\t\t\t\t\t1.10.33 of \"de Finibus Bonorum et Malorum\" (The Extremes of Good and\n\t\t\t\t\tEvil) by Cicero, written in 45 BC. This book is a treatise on the\n\t\t\t\t\ttheory of ethics, very popular during the Renaissance. The first line\n\t\t\t\t\tof Lorem Ipsum, \"Lorem ipsum dolor sit amet..\", comes from a line in\n\t\t\t\t\tsection 1.10.32. The standard chunk of Lorem Ipsum used since the\n\t\t\t\t\t1500s is reproduced below for those interested. Sections 1.10.32 and\n\t\t\t\t\t1.10.33 from \"de Finibus Bonorum et Malorum\" by Cicero are also\n\t\t\t\t\treproduced in their exact original form, accompanied by English\n\t\t\t\t\tversions from the 1914 translation by H. Rackham.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Faq;\n","import React from 'react';\n\nconst Profile = () => {\n\treturn (\n\t\t<div>\n\t\t\t<h1>Profile</h1>\n\t\t</div>\n\t);\n};\n\nexport default Profile;\n","import React from 'react';\n\nconst Services = () => {\n\treturn (\n\t\t<div>\n\t\t\t<h1>Services</h1>\n\t\t</div>\n\t);\n};\n\nexport default Services;\n","import React from 'react';\nimport './Spinner.css';\n\nconst Spinner = () => (\n\t<div className='spinner-container'>\n\t\t<div className='lds-ripple'>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t</div>\n\t</div>\n);\n\nexport default Spinner;\n","import React, { useState } from 'react';\n\nconst Modal = ({ children, openButtonText, onModalSubmit }) => {\n\tconst [isActive, setIsActive] = useState(false);\n\n\tconst changeModalState = (modalState) => setIsActive(modalState);\n\n\treturn (\n\t\t<div>\n\t\t\t<button\n\t\t\t\tonClick={() => changeModalState(true)}\n\t\t\t\ttype='button'\n\t\t\t\tclassName='button is-medium is-info is-outlined'\n\t\t\t\tdata-toggle='modal'\n\t\t\t\tdata-target='#exampleModal'\n\t\t\t>\n\t\t\t\t{openButtonText || 'Open'}\n\t\t\t</button>\n\t\t\t<div className={`modal ${isActive ? 'is-active' : ''}`}>\n\t\t\t\t<div className='modal-background'></div>\n\t\t\t\t<div className='modal-card'>\n\t\t\t\t\t<header className='modal-card-head'>\n\t\t\t\t\t\t<p className='modal-card-title'>Make a Deal</p>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => changeModalState(false)}\n\t\t\t\t\t\t\tclassName='delete'\n\t\t\t\t\t\t\taria-label='close'\n\t\t\t\t\t\t></button>\n\t\t\t\t\t</header>\n\t\t\t\t\t<section className='modal-card-body'>{children}</section>\n\t\t\t\t\t<footer className='modal-card-foot'>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tonClick={() => onModalSubmit(() => changeModalState(false))}\n\t\t\t\t\t\t\tclassName='button is-success'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSave changes\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button onClick={() => changeModalState(false)} className='button'>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</footer>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Modal;\n","import React, { useState } from 'react';\nimport Modal from '../../components/Modal';\nimport { useToasts } from 'react-toast-notifications';\nimport { createRef, createOffer } from '../../api/index';\n\nconst OfferModal = ({ service, auth }) => {\n\tconst { addToast } = useToasts();\n\tconst [offer, setOffer] = useState({\n\t\tfromUser: '',\n\t\ttoUser: '',\n\t\tservice: '',\n\t\tstatus: 'pending',\n\t\tprice: 0,\n\t\ttime: 0,\n\t\tnote: ''\n\t});\n\n\tconst handleChange = ({ target: { value, name } }) => {\n\t\tif (name === 'time') {\n\t\t\tconst price = Math.round(value * service.price * 100) / 100;\n\t\t\treturn setOffer({ ...offer, [name]: value, price });\n\t\t}\n\t\treturn setOffer({ ...offer, [name]: value });\n\t};\n\n\tconst handleSubmit = (closeModal) => {\n\t\tconst offerCopy = { ...offer };\n\n\t\tofferCopy.fromUser = createRef('profiles', auth.user.uid);\n\t\tofferCopy.toUser = createRef('profiles', service.user.uid);\n\t\tofferCopy.service = createRef('services', service.id);\n\t\tofferCopy.time = parseInt(offer.time, 10);\n\n\t\tcreateOffer(offerCopy).then(\n\t\t\t(_) => {\n\t\t\t\tcloseModal();\n\t\t\t\taddToast('Offer Was Successfully Created', {\n\t\t\t\t\tappearance: 'success',\n\t\t\t\t\tautoDismiss: true,\n\t\t\t\t\tautoDismissTimeout: 4000\n\t\t\t\t});\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t);\n\t};\n\n\treturn (\n\t\t<Modal onModalSubmit={handleSubmit} openButtonText='Make an offer'>\n\t\t\t<div className='field'>\n\t\t\t\t<input\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tname='note'\n\t\t\t\t\tclassName='input is-large'\n\t\t\t\t\ttype='text'\n\t\t\t\t\tplaceholder='Write some catchy note'\n\t\t\t\t\tmax='5'\n\t\t\t\t\tmin='0'\n\t\t\t\t\tautoFocus=''\n\t\t\t\t/>\n\t\t\t\t<p className='help'>Note can increase chance of getting the service</p>\n\t\t\t</div>\n\t\t\t<div className='field'>\n\t\t\t\t<input\n\t\t\t\t\tname='time'\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tclassName='input is-large'\n\t\t\t\t\ttype='number'\n\t\t\t\t\tplaceholder='How long you need service for ?'\n\t\t\t\t\tmax='5'\n\t\t\t\t\tmin='0'\n\t\t\t\t\tautoFocus=''\n\t\t\t\t/>\n\t\t\t\t<p className='help'>Enter time in hours</p>\n\t\t\t</div>\n\t\t\t<div className='service-price has-text-centered'>\n\t\t\t\t<div className='service-price-title'>\n\t\t\t\t\t{service.user &&\n\t\t\t\t\t\t`Uppon acceptance \"${service.user.fullName}\" will charge you:`}\n\t\t\t\t</div>\n\t\t\t\t<div className='service-price-value'>\n\t\t\t\t\t<h1 className='title'>{offer.price}</h1>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\nexport default OfferModal;\n","import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { fetchServiceById } from '../actions/index';\n\nimport Spinner from '../components/Spinner';\nimport OfferModal from '../components/service/OfferModal';\n\nconst ServiceDetail = (props) => {\n\tconst { serviceId } = useParams();\n\tconst { fetchServiceById, isFetching } = props;\n\n\tuseEffect(() => {\n\t\tfetchServiceById(serviceId);\n\t}, [serviceId, fetchServiceById]);\n\n\tconst { service, auth } = props;\n\tconst { user } = service;\n\n\tif (isFetching || serviceId !== service.id) {\n\t\treturn <Spinner />;\n\t}\n\n\treturn (\n\t\t<section className='hero is-fullheight is-default is-bold service-detail-page'>\n\t\t\t<div className='hero-body'>\n\t\t\t\t<div className='container has-text-centered'>\n\t\t\t\t\t<div className='columns is-vcentered'>\n\t\t\t\t\t\t<div className='column is-5'>\n\t\t\t\t\t\t\t<figure className='image is-4by3'>\n\t\t\t\t\t\t\t\t<img src={service.image} alt='Description' />\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='column is-6 is-offset-1'>\n\t\t\t\t\t\t\t<div className='service-header-container'>\n\t\t\t\t\t\t\t\t<div className='media service-user'>\n\t\t\t\t\t\t\t\t\t<div className='media-left'>\n\t\t\t\t\t\t\t\t\t\t<figure className='image is-48x48'>\n\t\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='is-rounded'\n\t\t\t\t\t\t\t\t\t\t\t\tsrc={user.avatar}\n\t\t\t\t\t\t\t\t\t\t\t\talt={user.fullName}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className='media-content'>\n\t\t\t\t\t\t\t\t\t\t<p className='title is-4'>{user.fullName}</p>\n\t\t\t\t\t\t\t\t\t\t<p className='subtitle is-6'>Owner</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='service-price'>\n\t\t\t\t\t\t\t\t\t<div className='media service-user'>\n\t\t\t\t\t\t\t\t\t\t<div className='media-content'>\n\t\t\t\t\t\t\t\t\t\t\t<p className='title is-4'>${service.price}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className='subtitle is-6'>Per Hour</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h1 className='title service-title is-2'>{service.title}</h1>\n\t\t\t\t\t\t\t<div className='tag is-large service-category'>\n\t\t\t\t\t\t\t\t{service.category}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<h2 className='subtitle is-4'>{service.description}</h2>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<div className='has-text-centered'>\n\t\t\t\t\t\t\t\t{auth.isAuth && auth.user.uid !== service.user.uid && (\n\t\t\t\t\t\t\t\t\t<OfferModal auth={auth} service={service} />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t);\n};\n\nconst mapStateToProps = ({ selectedService, auth }) => ({\n\tservice: selectedService.item,\n\tisFetching: selectedService.isFetching,\n\tauth\n});\n\nexport default connect(mapStateToProps, { fetchServiceById })(ServiceDetail);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nconst onlyGuest = (Component) => {\n\tclass OnlyGuest extends React.Component {\n\t\trender() {\n\t\t\tconst { auth, dispatch, ...rest } = this.props;\n\t\t\treturn auth.isAuth ? <Redirect to='/' /> : <Component {...rest} />;\n\t\t}\n\t}\n\n\tconst mapStateToProps = ({ auth }) => ({ auth });\n\treturn connect(mapStateToProps)(OnlyGuest);\n};\n\nexport default onlyGuest;\n","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useToasts } from 'react-toast-notifications';\nimport { Redirect } from 'react-router-dom';\nimport onlyGuest from '../components/hoc/onlyGuest';\n\nimport { login } from '../actions/index';\n\nconst Login = () => {\n\tconst [redirect, setRedirect] = useState(false);\n\tconst { register, handleSubmit } = useForm();\n\tconst { addToast } = useToasts();\n\n\tconst onLogin = (loginData) => {\n\t\tlogin(loginData).then(\n\t\t\t(_) => {\n\t\t\t\tsetRedirect(true);\n\t\t\t\taddToast('You Have Successfully Logged In', {\n\t\t\t\t\tappearance: 'success',\n\t\t\t\t\tautoDismiss: true,\n\t\t\t\t\tautoDismissTimeout: 3000\n\t\t\t\t});\n\t\t\t},\n\t\t\t(errorMessage) => {\n\t\t\t\taddToast(errorMessage, {\n\t\t\t\t\tappearance: 'error',\n\t\t\t\t\tautoDismiss: true,\n\t\t\t\t\tautoDismissTimeout: 3000\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t};\n\n\tif (redirect) {\n\t\treturn <Redirect to='/' />;\n\t}\n\n\treturn (\n\t\t<div className='auth-page'>\n\t\t\t<div className='container has-text-centered'>\n\t\t\t\t<div className='column is-4 is-offset-4'>\n\t\t\t\t\t<h3 className='title has-text-grey'>Login</h3>\n\t\t\t\t\t<p className='subtitle has-text-grey'>Please login to proceed.</p>\n\t\t\t\t\t<div className='box'>\n\t\t\t\t\t\t<figure className='avatar'>\n\t\t\t\t\t\t\t<img src='https://placehold.it/128x128' alt='description' />\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t<form onSubmit={handleSubmit(onLogin)}>\n\t\t\t\t\t\t\t<div className='field'>\n\t\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tref={register}\n\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\tclassName='input is-large'\n\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Your Email'\n\t\t\t\t\t\t\t\t\t\tautoComplete='email'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='field'>\n\t\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tref={register}\n\t\t\t\t\t\t\t\t\t\tname='password'\n\t\t\t\t\t\t\t\t\t\tclassName='input is-large'\n\t\t\t\t\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Your Password'\n\t\t\t\t\t\t\t\t\t\tautoComplete='current-password'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\ttype='submit'\n\t\t\t\t\t\t\t\tclassName='button is-block is-info is-large is-fullwidth'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</form>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className='has-text-grey'>\n\t\t\t\t\t\t<a>Sign In With Google</a>&nbsp;\n\t\t\t\t\t\t<a href='/'>Sign Up</a> &nbsp;&nbsp;\n\t\t\t\t\t\t<a href='../'>Need Help?</a>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default onlyGuest(Login);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport { logout } from '../actions/index';\n\nclass Logout extends React.Component {\n\tcomponentDidMount() {\n\t\tconst { isAuth, user } = this.props.auth;\n\t\tif (isAuth) {\n\t\t\tthis.props.dispatch(logout(user.uid));\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { isAuth } = this.props.auth;\n\t\treturn (\n\t\t\t<div className='container'>\n\t\t\t\t<div className='content-wrapper'>\n\t\t\t\t\t{isAuth && <h1 className='title'>You are getting logged out...</h1>}\n\t\t\t\t\t{!isAuth && <h1 className='title'>You are logged out</h1>}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default connect(({ auth }) => ({ auth }))(Logout);\n","export const isValidImage = (value) => {\n\tif (!value) return true;\n\tif (typeof value !== 'string') return false;\n\n\tconst validFormats = ['png', 'jpg', 'jpeg', 'svg'];\n\tconst extension = value.split('.').pop();\n\treturn validFormats.includes(extension);\n};\n\nexport const isValidUrl = (value) => {\n\tif (!value) return true;\n\tif (typeof value !== 'string') return false;\n\n\tconst expression = /(https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|www\\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\\.[^\\s]{2,}|https?:\\/\\/(?:www\\.|(?!www))[a-zA-Z0-9]+\\.[^\\s]{2,}|www\\.[a-zA-Z0-9]+\\.[^\\s]{2,})/gi;\n\tconst regex = new RegExp(expression);\n\n\treturn value.match(regex) ? true : false;\n};\n\nexport const sameAs = (getValues, field) => (value) => {\n\tif (!value) return true;\n\tif (typeof value !== 'string') return false;\n\n\tconst compareTwoValues = getValues()[field];\n\treturn compareTwoValues === value;\n};\n","/* eslint-disable no-useless-escape */\nimport React from 'react';\nimport { useForm } from 'react-hook-form';\n\nimport { isValidImage, isValidUrl, sameAs } from '../../helpers/validators';\n\nconst RegisterForm = (props) => {\n\tconst { register, handleSubmit, errors, getValues } = useForm();\n\n\treturn (\n\t\t<form onSubmit={handleSubmit(props.onRegister)}>\n\t\t\t<div className='field'>\n\t\t\t\t<div className='control'>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tpattern: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tname='email'\n\t\t\t\t\t\tclassName='input is-large'\n\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\tplaceholder='Your Email'\n\t\t\t\t\t\tautoComplete='email'\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.email && (\n\t\t\t\t\t\t<div className='form-error'>\n\t\t\t\t\t\t\t{errors.email.type === 'required' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>Email is required</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{errors.email.type === 'pattern' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>\n\t\t\t\t\t\t\t\t\tEmail address is not valid\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='field'>\n\t\t\t\t<div className='control'>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={register({ required: true, minLength: 10 })}\n\t\t\t\t\t\tname='fullName'\n\t\t\t\t\t\tclassName='input is-large'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder='Full Name'\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.fullName && (\n\t\t\t\t\t\t<div className='form-error'>\n\t\t\t\t\t\t\t{errors.fullName.type === 'required' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>Name is required</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{errors.fullName.type === 'minLength' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>\n\t\t\t\t\t\t\t\t\tMinimum Length Is 10 Characters\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='field'>\n\t\t\t\t<div className='control'>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tvalidate: { isValidImage, isValidUrl }\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tname='avatar'\n\t\t\t\t\t\tclassName='input is-large'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tplaceholder='Avatar'\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.avatar && (\n\t\t\t\t\t\t<div className='form-error'>\n\t\t\t\t\t\t\t{errors.avatar.type === 'required' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>Avatar is required</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{errors.avatar.type === 'isValidImage' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>\n\t\t\t\t\t\t\t\t\tAvatart extension is not valid\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{errors.avatar.type === 'isValidUrl' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>Avatart url is not valid</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='field'>\n\t\t\t\t<div className='control'>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={register({ required: true, minLength: 6 })}\n\t\t\t\t\t\tname='password'\n\t\t\t\t\t\tclassName='input is-large'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tplaceholder='Your Password'\n\t\t\t\t\t\tautoComplete='current-password'\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.password && (\n\t\t\t\t\t\t<div className='form-error'>\n\t\t\t\t\t\t\t{errors.password.type === 'required' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>Password is required</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{errors.password.type === 'minLength' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>\n\t\t\t\t\t\t\t\t\tMinimum Length Is 6 Characters\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='field'>\n\t\t\t\t<div className='control'>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref={register({\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tminLength: 6,\n\t\t\t\t\t\t\tvalidate: { sameAs: sameAs(getValues, 'password') }\n\t\t\t\t\t\t})}\n\t\t\t\t\t\tname='passwordConfirmation'\n\t\t\t\t\t\tclassName='input is-large'\n\t\t\t\t\t\ttype='password'\n\t\t\t\t\t\tplaceholder='Repeat Password'\n\t\t\t\t\t\tautoComplete='current-password'\n\t\t\t\t\t/>\n\t\t\t\t\t{errors.passwordConfirmation && (\n\t\t\t\t\t\t<div className='form-error'>\n\t\t\t\t\t\t\t{errors.password.type === 'required' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>\n\t\t\t\t\t\t\t\t\tPassword confirmation is required\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{errors.password.type === 'minLength' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>\n\t\t\t\t\t\t\t\t\tMinimum Length Is 6 Characters\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{errors.password.type === 'sameAs' && (\n\t\t\t\t\t\t\t\t<span className='help is-danger'>\n\t\t\t\t\t\t\t\t\tPassword Confirmation Is Not The Same As Password\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\ttype='submit'\n\t\t\t\tclassName='button is-block is-info is-large is-fullwidth'\n\t\t\t>\n\t\t\t\tRegister\n\t\t\t</button>\n\t\t</form>\n\t);\n};\n\nexport default RegisterForm;\n","/* eslint jsx-a11y/anchor-is-valid: 0 */\n\nimport React from 'react';\nimport RegisterForm from '../components/auth/RegisterForm';\nimport { register } from '../actions/index';\nimport { useToasts } from 'react-toast-notifications';\nimport onlyGuest from '../components/hoc/onlyGuest';\n\n// import { withRouter } from 'react-router-dom'\n\nconst Register = (props) => {\n\tconst { addToast } = useToasts();\n\n\tconst registerUser = (userData) => {\n\t\tregister(userData).then(\n\t\t\t(_) => () => {},\n\t\t\t(errorMessage) =>\n\t\t\t\taddToast(errorMessage, {\n\t\t\t\t\tappearance: 'error',\n\t\t\t\t\tautoDismiss: true,\n\t\t\t\t\tautoDismissTimeout: 3000\n\t\t\t\t})\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className='auth-page'>\n\t\t\t<div className='container has-text-centered'>\n\t\t\t\t<div className='column is-4 is-offset-4'>\n\t\t\t\t\t<h3 className='title has-text-grey'>Register</h3>\n\t\t\t\t\t<p className='subtitle has-text-grey'>Please Register to proceed.</p>\n\t\t\t\t\t<div className='box'>\n\t\t\t\t\t\t<figure className='avatar'>\n\t\t\t\t\t\t\t<img src='https://placehold.it/128x128' alt='Company Logo' />\n\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t<RegisterForm onRegister={registerUser} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className='has-text-grey'>\n\t\t\t\t\t\t<a>Sign In With Google</a>&nbsp;\n\t\t\t\t\t\t<a href='/'>Sign Up</a> &nbsp;&nbsp;\n\t\t\t\t\t\t<a href='../'>Need Help?</a>\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// export default withRouter(Register)\nexport default onlyGuest(Register);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nconst withAuthorization = (Component) => {\n\tclass WithAuthorization extends React.Component {\n\t\trender() {\n\t\t\tconst { auth } = this.props;\n\t\t\treturn auth.isAuth ? (\n\t\t\t\t<Component {...this.props} />\n\t\t\t) : (\n\t\t\t\t<Redirect to='/login' />\n\t\t\t);\n\t\t}\n\t}\n\n\tconst mapStateToProps = ({ auth }) => ({ auth });\n\treturn connect(mapStateToProps)(WithAuthorization);\n};\n\nexport default withAuthorization;\n","import React from 'react';\nimport withAuthorization from '../components/hoc/withAuthorization';\n\nconst Secret = (props) => {\n\tconsole.log(props);\n\treturn (\n\t\t<div>\n\t\t\t<h1>Secret Page</h1>\n\t\t</div>\n\t);\n};\n\nexport default withAuthorization(Secret);\n","import React, { useState } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport withAuthorization from '../../components/hoc/withAuthorization';\nimport { createService } from '../../actions/index';\n\nconst ServiceCreate = ({ auth }) => {\n\tconst [redirect, setRedirect] = useState(false);\n\tconst [serviceForm, setServiceForm] = useState({\n\t\tcategory: 'mathematics',\n\t\ttitle: '',\n\t\tdescription: '',\n\t\timage: '',\n\t\tprice: null\n\t});\n\n\tconst handleChange = (event) => {\n\t\tconst { name, value } = event.target;\n\n\t\tsetServiceForm({ ...serviceForm, [name]: value });\n\t};\n\n\tconst handleSubmit = () => {\n\t\tconst { user } = auth;\n\t\tcreateService(serviceForm, user.uid)\n\t\t\t.then(() => setRedirect(true))\n\t\t\t.catch(() => alert('SOME ERROR'));\n\t};\n\n\tif (redirect) {\n\t\treturn <Redirect to='/' />;\n\t}\n\n\treturn (\n\t\t<div className='create-page'>\n\t\t\t<div className='container'>\n\t\t\t\t<div className='form-container'>\n\t\t\t\t\t<h1 className='title'>Create Service</h1>\n\t\t\t\t\t<form>\n\t\t\t\t\t\t<div className='field'>\n\t\t\t\t\t\t\t<label className='label'>Category</label>\n\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t<div className='select'>\n\t\t\t\t\t\t\t\t\t<select onChange={handleChange} name='category'>\n\t\t\t\t\t\t\t\t\t\t<option value='mathematics'>Mathematics</option>\n\t\t\t\t\t\t\t\t\t\t<option value='programming'>Programming</option>\n\t\t\t\t\t\t\t\t\t\t<option value='painting'>Painting</option>\n\t\t\t\t\t\t\t\t\t\t<option value='singing'>Singing</option>\n\t\t\t\t\t\t\t\t\t\t<option value='english'>English</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='field'>\n\t\t\t\t\t\t\t<label className='label'>Title</label>\n\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\t\t\tclassName='input'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tplaceholder='Text input'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='field'>\n\t\t\t\t\t\t\t<label className='label'>Description</label>\n\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\t\tclassName='textarea'\n\t\t\t\t\t\t\t\t\tplaceholder='Textarea'\n\t\t\t\t\t\t\t\t></textarea>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='field'>\n\t\t\t\t\t\t\t<label className='label'>Image Url</label>\n\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tname='image'\n\t\t\t\t\t\t\t\t\tclassName='input'\n\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\tplaceholder='Text input'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='field'>\n\t\t\t\t\t\t\t<label className='label'>Price per Hour</label>\n\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\t\tname='price'\n\t\t\t\t\t\t\t\t\tclassName='input'\n\t\t\t\t\t\t\t\t\ttype='number'\n\t\t\t\t\t\t\t\t\tplaceholder='Text input'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='field is-grouped'>\n\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\t\t\t\t\ttype='button'\n\t\t\t\t\t\t\t\t\tclassName='button is-link'\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tCreate\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className='control'>\n\t\t\t\t\t\t\t\t<button className='button is-text'>Cancel</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default withAuthorization(ServiceCreate);\n","import React from 'react';\nimport withAuthorization from '../../components/hoc/withAuthorization';\nimport ServiceItem from '../../components/service/ServiceItem';\n\nimport { fetchUserServices } from '../../actions/index';\n\nclass UserServices extends React.Component {\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\tauth: { user },\n\t\t\tdispatch\n\t\t} = this.props;\n\t\tdispatch(fetchUserServices(user.uid));\n\t}\n\n\trender() {\n\t\tconst { services } = this.props.auth;\n\t\treturn (\n\t\t\t<div className='container'>\n\t\t\t\t<div className='content-wrapper'>\n\t\t\t\t\t<h1 className='title'>Your Services</h1>\n\t\t\t\t\t<div className='columns is-multiline'>\n\t\t\t\t\t\t{services.map((s) => (\n\t\t\t\t\t\t\t<div key={s.id} className='column'>\n\t\t\t\t\t\t\t\t<ServiceItem service={s} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withAuthorization(UserServices);\n","import { Timestamp } from '../db/index';\n\nexport const newCollaboration = ({\n\toffer: { service, time, toUser, id },\n\tfromUser\n}) => {\n\treturn {\n\t\tserviceId: service.id,\n\t\ttitle: service.title,\n\t\timage: service.image,\n\t\ttime: time * 60 * 60,\n\t\tallowedPeople: [fromUser.uid, toUser.uid],\n\t\tjoinedPeople: [],\n\t\ttoUser: toUser.uid,\n\t\tfromUser: fromUser.uid,\n\t\tfromOffer: id,\n\t\tstatus: 'pending',\n\t\tcreatedAt: Timestamp.fromDate(new Date())\n\t};\n};\n\nexport const newMessage = ({ offer: { service, toUser }, fromUser }) => {\n\treturn {\n\t\tisRead: false,\n\t\ttype: 'invitation',\n\t\ttext: `Hello ${toUser.fullName}, Please Join Collaboration As Soon As Possible`,\n\t\tcta: '',\n\t\ttoUser: toUser.uid,\n\t\tfromUser: {\n\t\t\tname: fromUser.fullName,\n\t\t\tavatar: fromUser.avatar\n\t\t},\n\t\tserviceTitle: service.title,\n\t\tserviceLink: `/services/${service.id}`,\n\t\tcreatedAt: Timestamp.fromDate(new Date())\n\t};\n};\n","import React from 'react';\nimport withAuthorization from '../../components/hoc/withAuthorization';\nimport { withToastManager } from 'react-toast-notifications';\nimport ServiceItem from '../../components/service/ServiceItem';\nimport { connect } from 'react-redux';\nimport { newMessage, newCollaboration } from '../../helpers/offers';\nimport { fetchSentOffers, collaborate } from '../../actions/index';\n\nimport Spinner from '../../components/Spinner';\n\nclass SentOffers extends React.Component {\n\tcomponentDidMount() {\n\t\tconst { auth } = this.props;\n\t\tthis.props.dispatch(fetchSentOffers(auth.user.uid));\n\t}\n\n\tcreateCollaboration = (offer) => {\n\t\tconst {\n\t\t\tauth: { user },\n\t\t\ttoastManager\n\t\t} = this.props;\n\n\t\tconst collaboration = newCollaboration({ offer, fromUser: user });\n\t\tconst message = newMessage({ offer, fromUser: user });\n\n\t\tthis.props.collaborate({ collaboration, message }).then((_) =>\n\t\t\ttoastManager.add('Collaboration was Created!', {\n\t\t\t\tappearance: 'success',\n\t\t\t\tautoDismiss: true\n\t\t\t})\n\t\t);\n\t};\n\n\trender() {\n\t\tconst { offers, isFetching } = this.props;\n\n\t\tif (isFetching) {\n\t\t\treturn <Spinner />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='container'>\n\t\t\t\t<div className='content-wrapper'>\n\t\t\t\t\t<h1 className='title'>Sent Offers</h1>\n\t\t\t\t\t{!isFetching && offers.length === 0 && (\n\t\t\t\t\t\t<span className='tag is-warning is-large'>\n\t\t\t\t\t\t\tYou don't have any send offers :(\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className='columns'>\n\t\t\t\t\t\t{offers.map((offer) => (\n\t\t\t\t\t\t\t<div key={offer.id} className='column is-one-third'>\n\t\t\t\t\t\t\t\t<ServiceItem\n\t\t\t\t\t\t\t\t\tnoButton\n\t\t\t\t\t\t\t\t\tclassName='offer-card'\n\t\t\t\t\t\t\t\t\tservice={offer.service}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className='tag is-large'>{offer.status}</div>\n\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t<div className='service-offer'>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className='label'>To User:</span>{' '}\n\t\t\t\t\t\t\t\t\t\t\t{offer.toUser.fullName}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className='label'>Note:</span> {offer.note}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className='label'>Price:</span> ${offer.price}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className='label'>Time:</span> {offer.time} hours\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{offer.status === 'accepted' && !offer.collaborationCreated && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.createCollaboration(offer)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='button is-success'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tCollaborate\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</ServiceItem>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ offers }) => ({\n\toffers: offers.sent,\n\tisFetching: offers.isFetching\n});\nconst SentOffersWithToast = withToastManager(SentOffers);\n\nexport default withAuthorization(\n\tconnect(mapStateToProps, { collaborate })(SentOffersWithToast)\n);\n","import React from 'react';\nimport withAuthorization from '../../components/hoc/withAuthorization';\nimport ServiceItem from '../../components/service/ServiceItem';\nimport { connect } from 'react-redux';\nimport Spinner from '../../components/Spinner';\n\nimport { fetchRecievedOffers, changeOfferStatus } from '../../actions/index';\n\nclass ReceivedOffers extends React.Component {\n\tcomponentDidMount() {\n\t\tconst { auth } = this.props;\n\t\tthis.props.fetchRecievedOffers(auth.user.uid);\n\t}\n\n\tacceptOffer = (offerId) => {\n\t\tthis.props.changeOfferStatus(offerId, 'accepted');\n\t};\n\n\tdeclineOffer = (offerId) => {\n\t\tthis.props.changeOfferStatus(offerId, 'declined');\n\t};\n\n\tstatusClass = (status) => {\n\t\tif (status === 'pending') return 'is-warning';\n\t\tif (status === 'accepted') return 'is-success';\n\t\tif (status === 'declined') return 'is-danger';\n\t};\n\n\trender() {\n\t\tconst { offers, isFetching } = this.props;\n\n\t\tif (isFetching) {\n\t\t\treturn <Spinner />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='container'>\n\t\t\t\t<div className='content-wrapper'>\n\t\t\t\t\t<h1 className='title'>Received Offers</h1>\n\t\t\t\t\t{!isFetching && offers.length === 0 && (\n\t\t\t\t\t\t<span className='tag is-warning is-large'>\n\t\t\t\t\t\t\tYou don't have any received offers :(\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t\t<div className='columns'>\n\t\t\t\t\t\t{offers.map((offer) => (\n\t\t\t\t\t\t\t<div key={offer.id} className='column is-one-third'>\n\t\t\t\t\t\t\t\t<ServiceItem\n\t\t\t\t\t\t\t\t\tnoButton\n\t\t\t\t\t\t\t\t\tclassName='offer-card'\n\t\t\t\t\t\t\t\t\tservice={offer.service}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`tag is-large ${this.statusClass(offer.status)}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{offer.status}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t<div className='service-offer'>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className='label'>From User:</span>{' '}\n\t\t\t\t\t\t\t\t\t\t\t{offer.fromUser.fullName}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className='label'>Note:</span> {offer.note}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className='label'>Price:</span> ${offer.price}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<span className='label'>Time:</span> {offer.time} hours\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{offer.status === 'pending' && (\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.acceptOffer(offer.id)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='button is-success s-m-r'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tAccept\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.declineOffer(offer.id)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='button is-danger'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tDecline\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</ServiceItem>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = ({ offers }) => ({\n\toffers: offers.received,\n\tisFetching: offers.isFetching\n});\n\nconst mapDispatchToProps = () => ({\n\tchangeOfferStatus,\n\tfetchRecievedOffers\n});\n\nexport default withAuthorization(\n\tconnect(mapStateToProps, mapDispatchToProps())(ReceivedOffers)\n);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport withAuthorization from '../../components/hoc/withAuthorization';\nimport { fetchCollaborations } from '../../actions/index';\nimport moment from 'moment';\nimport { Timestamp } from '../../db/index';\n\nclass ReceivedCollaborations extends React.Component {\n\tstate = {\n\t\tcollaborations: []\n\t};\n\n\tgetCollaborationStatus = (expiresAt) => {\n\t\tif (!expiresAt) {\n\t\t\treturn { className: 'is-danger', status: 'Not Started' };\n\t\t}\n\t\tif (Timestamp.now().seconds < expiresAt.seconds) {\n\t\t\treturn { className: 'is-warning', status: 'In Progress' };\n\t\t} else {\n\t\t\treturn { className: 'is-success', status: 'Finished' };\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\tconst {\n\t\t\tauth: { user }\n\t\t} = this.props;\n\t\tfetchCollaborations(user.uid).then((collaborations) =>\n\t\t\tthis.setState({ collaborations })\n\t\t);\n\t}\n\n\trenderCollaborations = (collaborations) => {\n\t\treturn collaborations.map((c) => {\n\t\t\tconst { className, status } = this.getCollaborationStatus(c.expiresAt);\n\t\t\treturn (\n\t\t\t\t<article key={c.id} className='post'>\n\t\t\t\t\t<h4>{c.title}</h4>\n\t\t\t\t\t<div className='media'>\n\t\t\t\t\t\t<div className='media-left'>\n\t\t\t\t\t\t\t<p className='image is-32x32'>\n\t\t\t\t\t\t\t\t<img src={c.image} alt={c.title} />\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='media-content'>\n\t\t\t\t\t\t\t<div className='content'>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<span>{c.fromUser.name}</span> replied{' '}\n\t\t\t\t\t\t\t\t\t{moment(c.createdAt.toDate()).fromNow()} &nbsp;\n\t\t\t\t\t\t\t\t\t<span className={`tag ${className}`}>{status}</span>\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='media-right'>\n\t\t\t\t\t\t\t<span className='has-text-grey-light'>\n\t\t\t\t\t\t\t\t<Link to={`/collaborations/${c.id}`}>\n\t\t\t\t\t\t\t\t\t<button className='button'>Enter</button>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</article>\n\t\t\t);\n\t\t});\n\t};\n\n\trender() {\n\t\tconst { collaborations } = this.state;\n\t\treturn (\n\t\t\t<div className='content-wrapper'>\n\t\t\t\t<div className='container'>\n\t\t\t\t\t<h1 className='title'>Collaborations</h1>\n\t\t\t\t\t<div className='box content'>\n\t\t\t\t\t\t{this.renderCollaborations(collaborations)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withAuthorization(ReceivedCollaborations);\n","import React from 'react';\n\nconst JoinedPeople = ({ users }) => {\n\tconst statusClass = (status) => {\n\t\treturn status === 'online' ? 'is-success' : 'is-danger';\n\t};\n\n\tconst renderUsers = (users) => {\n\t\tif (users.length > 0) {\n\t\t\treturn users.map((user) => (\n\t\t\t\t<div key={user.id} className='viewWrapItem'>\n\t\t\t\t\t<img className='viewAvatarItem' src={user.avatar} alt='icon avatar' />\n\t\t\t\t\t<div className='viewWrapContentItem'>\n\t\t\t\t\t\t<span className='textItem'>{user.fullName}</span>\n\t\t\t\t\t\t<span className={`tag textItem ${statusClass(user.state)}`}>\n\t\t\t\t\t\t\t{user.state}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t));\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\treturn renderUsers(users);\n};\n\nexport default JoinedPeople;\n","import React from 'react';\nimport moment from 'moment';\n\nconst ChatMessages = ({ messages, authUser }) => {\n\tconst renderMessages = (messages, authUser) => {\n\t\tif (messages.length > 0) {\n\t\t\treturn messages.map((message) => {\n\t\t\t\t// Message is from currently logged in USER\n\t\t\t\tif (message.user.uid === authUser.uid) {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div key={message.id} className='viewWrapItemLeft'>\n\t\t\t\t\t\t\t<div className='viewWrapItemLeft3'>\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tsrc={message.user.avatar}\n\t\t\t\t\t\t\t\t\talt='avatar'\n\t\t\t\t\t\t\t\t\tclassName='peerAvatarLeft'\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div className='viewItemLeft'>\n\t\t\t\t\t\t\t\t\t<span className='textContentItem'>{message.content}</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<span className='textTimeLeft'>\n\t\t\t\t\t\t\t\t{moment(message.timestamp).fromNow()}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn (\n\t\t\t\t\t<div key={message.id} className='viewWrapItemRight'>\n\t\t\t\t\t\t<div className='viewWrapItemRight3'>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\tsrc={message.user.avatar}\n\t\t\t\t\t\t\t\talt='avatar'\n\t\t\t\t\t\t\t\tclassName='peerAvatarLeft'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<div className='viewItemRight'>\n\t\t\t\t\t\t\t\t<span className='textContentItem'>{message.content}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span className='textTimeLeft'>\n\t\t\t\t\t\t\t{moment(message.timestamp).fromNow()}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\treturn null;\n\t};\n\n\treturn renderMessages(messages, authUser);\n};\n\nexport default ChatMessages;\n","import React, { useEffect, useState } from 'react';\nimport moment from 'moment';\n\nconst Timer = ({ seconds, timeOutCallback }) => {\n\tconst [secondsLeft, setSecondsLeft] = useState(seconds);\n\n\tuseEffect(() => {\n\t\tif (!secondsLeft) {\n\t\t\treturn timeOutCallback();\n\t\t}\n\n\t\tconst intervalId = setInterval(() => {\n\t\t\tsetSecondsLeft(secondsLeft - 1);\n\t\t}, 1000);\n\n\t\treturn () => clearInterval(intervalId);\n\t}, [secondsLeft, timeOutCallback]);\n\n\treturn (\n\t\t<div className='timer'>\n\t\t\t{secondsLeft && moment.utc(secondsLeft * 1000).format('HH:mm:ss')}\n\t\t</div>\n\t);\n};\n\nexport default Timer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport withAuthorization from '../../components/hoc/withAuthorization';\nimport { withRouter } from 'react-router-dom';\nimport { Timestamp } from '../../db/index';\nimport moment from 'moment';\nimport {\n\tsubToCollaboration,\n\tjoinCollaboration,\n\tleaveCollaboration,\n\tsubToProfile,\n\tsendChatMessage,\n\tsubToMessages,\n\tstartCollaboration\n} from '../../actions/index';\nimport JoinedPeople from '../../components/collaboration/JoinedPeople';\nimport ChatMessages from '../../components/collaboration/ChatMessages';\nimport Timer from '../../components/collaboration/Timer';\nimport Spinner from '../../components/Spinner';\n\nclass CollaborationDetail extends React.Component {\n\tstate = {\n\t\tinputValue: '',\n\t\treload: false\n\t};\n\n\tcomponentDidMount() {\n\t\tconst { id } = this.props.match.params;\n\t\tconst { user } = this.props.auth;\n\n\t\tjoinCollaboration(id, user.uid);\n\t\tthis.watchCollabChanges(id);\n\t\tthis.watchMessagesChanges(id);\n\t}\n\n\twatchCollabChanges = (id) => {\n\t\tthis.unsubscribeFromCollab = this.props.subToCollaboration(\n\t\t\tid,\n\t\t\t({ joinedPeople }) => {\n\t\t\t\tthis.watchJoinedPeopleChanges(joinedPeople.map((jp) => jp.id));\n\t\t\t}\n\t\t);\n\t};\n\n\twatchJoinedPeopleChanges = (ids) => {\n\t\tthis.peopleWatchers = {};\n\t\tids.forEach((id) => {\n\t\t\tthis.peopleWatchers[id] = this.props.subToProfile(id);\n\t\t});\n\t};\n\n\twatchMessagesChanges = (collabId) => {\n\t\tthis.unsubscribeFromMessages = this.props.subToMessages(collabId);\n\t};\n\n\tonKeyboardPress = (e) => {\n\t\tif (e.key === 'Enter') {\n\t\t\tthis.onSendMessage(this.state.inputValue);\n\t\t}\n\t};\n\n\tonSendMessage = (inputValue) => {\n\t\tif (inputValue.trim() === '') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst timestamp = moment()\n\t\t\t.valueOf()\n\t\t\t.toString();\n\t\tconst { user } = this.props.auth;\n\t\tconst { collaboration } = this.props;\n\n\t\tconst message = {\n\t\t\tuser: {\n\t\t\t\tuid: user.uid,\n\t\t\t\tavatar: user.avatar,\n\t\t\t\tname: user.fullName\n\t\t\t},\n\t\t\ttimestamp: parseInt(timestamp, 10),\n\t\t\tcontent: inputValue.trim()\n\t\t};\n\n\t\tthis.props\n\t\t\t.sendChatMessage({ message, collabId: collaboration.id, timestamp })\n\t\t\t.then((_) => this.setState({ inputValue: '' }))\n\t\t\t.catch((error) => {\n\t\t\t\t// this.setState({inputValue: ''})\n\t\t\t\talert(error);\n\t\t\t});\n\t};\n\n\tonStartCollaboration = (collaboration) => {\n\t\tconst { id, time } = collaboration;\n\t\tconst nowSeconds = Timestamp.now().seconds;\n\n\t\tconst expiresAt = new Timestamp(nowSeconds + time, 0);\n\t\tstartCollaboration(id, expiresAt);\n\t};\n\n\tcomponentWillUnmount() {\n\t\tconst { id } = this.props.match.params;\n\t\tconst { user } = this.props.auth;\n\n\t\tthis.unsubscribeFromCollab();\n\t\tthis.unsubscribeFromMessages();\n\n\t\tObject.keys(this.peopleWatchers).forEach((uid) =>\n\t\t\tthis.peopleWatchers[uid]()\n\t\t);\n\n\t\tleaveCollaboration(id, user.uid);\n\t}\n\n\tgetCollaborationStatus = (collaboration) => {\n\t\tif (Object.keys(collaboration).length === 0) {\n\t\t\treturn 'loading';\n\t\t}\n\n\t\tif (!collaboration.expiresAt) {\n\t\t\treturn 'notStarted';\n\t\t}\n\t\tif (Timestamp.now().seconds < collaboration.expiresAt.seconds) {\n\t\t\treturn 'active';\n\t\t} else {\n\t\t\treturn 'finished';\n\t\t}\n\t};\n\n\trender() {\n\t\tconst { collaboration, joinedPeople, messages } = this.props;\n\t\tconst { inputValue } = this.state;\n\t\tconst { user } = this.props.auth;\n\n\t\tconst status = this.getCollaborationStatus(collaboration);\n\n\t\tif (status === 'loading') {\n\t\t\treturn <Spinner />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className='content-wrapper'>\n\t\t\t\t<div className='root'>\n\t\t\t\t\t<div className='body'>\n\t\t\t\t\t\t<div className='viewListUser'>\n\t\t\t\t\t\t\t<JoinedPeople users={joinedPeople} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='viewBoard'>\n\t\t\t\t\t\t\t<div className='viewChatBoard'>\n\t\t\t\t\t\t\t\t<div className='headerChatBoard'>\n\t\t\t\t\t\t\t\t\t<div className='headerChatUser'>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tclassName='viewAvatarItem'\n\t\t\t\t\t\t\t\t\t\t\tsrc='https://i.imgur.com/cVDadwb.png'\n\t\t\t\t\t\t\t\t\t\t\talt='icon avatar'\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<span className='textHeaderChatBoard'>{user.fullName}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{status === 'notStarted' && (\n\t\t\t\t\t\t\t\t\t\t<div className='headerChatButton'>\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.onStartCollaboration(collaboration)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='button is-success'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tStart Collaboration\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{status === 'active' && (\n\t\t\t\t\t\t\t\t\t\t<Timer\n\t\t\t\t\t\t\t\t\t\t\tseconds={\n\t\t\t\t\t\t\t\t\t\t\t\tcollaboration.expiresAt.seconds -\n\t\t\t\t\t\t\t\t\t\t\t\tTimestamp.now().seconds\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\ttimeOutCallback={() => this.setState({ reload: true })}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{status === 'finished' && (\n\t\t\t\t\t\t\t\t\t\t<span className='tag is-warning is-large'>\n\t\t\t\t\t\t\t\t\t\t\tCollaboration has been finished\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='viewListContentChat'>\n\t\t\t\t\t\t\t\t\t<ChatMessages authUser={user} messages={messages} />\n\t\t\t\t\t\t\t\t\t<div style={{ float: 'left', clear: 'both' }}></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='viewBottom'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\t\t\tthis.setState({ inputValue: e.target.value })\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonKeyPress={this.onKeyboardPress}\n\t\t\t\t\t\t\t\t\t\t// disabled={status === 'finished' || status === 'notStarted'}\n\t\t\t\t\t\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\t\t\t\t\t\tclassName='viewInput'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Type your message...'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tonClick={() => this.onSendMessage(inputValue)}\n\t\t\t\t\t\t\t\t\t\t// disabled={status === 'finished' || status === 'notStarted'}\n\t\t\t\t\t\t\t\t\t\tclassName='button is-primary is-large'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tSend\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapDispatchToProps = () => ({\n\tsubToCollaboration,\n\tsubToProfile,\n\tsubToMessages,\n\tsendChatMessage\n});\n\nconst mapStateToProps = ({ collaboration }) => {\n\treturn {\n\t\tcollaboration: collaboration.joined,\n\t\tjoinedPeople: collaboration.joinedPeople,\n\t\tmessages: collaboration.messages\n\t};\n};\n\nconst Collaboration = withAuthorization(withRouter(CollaborationDetail));\nexport default connect(mapStateToProps, mapDispatchToProps())(Collaboration);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport HomePage from './pages/Home';\nimport FaqPage from './pages/FAQ';\nimport ProfilePage from './pages/Profile';\nimport ServicesPage from './pages/Services';\nimport ServiceDetailPage from './pages/ServiceDetail';\nimport LoginPage from './pages/Login';\nimport LogoutPage from './pages/Logout';\nimport RegisterPage from './pages/Register';\nimport SecretPage from './pages/Secret';\n\nimport ServiceCreatePage from './pages/services/ServiceCreate';\nimport UserServicesPage from './pages/services/UserServices';\n\nimport SentOffersPage from './pages/offers/SentOffers';\nimport ReceivedOffersPage from './pages/offers/RecievedOffers';\n\nimport ReceivedCollaborationsPage from './pages/collaborations/RecievedCollaborations';\nimport CollaborationDetailPage from './pages/collaborations/CollaborationDetail';\n\nconst Routes = () => (\n\t<Switch>\n\t\t<Route path='/secret'>\n\t\t\t<SecretPage />\n\t\t</Route>\n\t\t<Route path='/register'>\n\t\t\t<RegisterPage />\n\t\t</Route>\n\t\t<Route path='/login'>\n\t\t\t<LoginPage />\n\t\t</Route>\n\t\t<Route path='/logout'>\n\t\t\t<LogoutPage />\n\t\t</Route>\n\t\t<Route path='/collaborations/me'>\n\t\t\t<ReceivedCollaborationsPage />\n\t\t</Route>\n\t\t<Route path='/collaborations/:id'>\n\t\t\t<CollaborationDetailPage />\n\t\t</Route>\n\t\t<Route path='/offers/sent'>\n\t\t\t<SentOffersPage />\n\t\t</Route>\n\t\t<Route path='/offers/received'>\n\t\t\t<ReceivedOffersPage />\n\t\t</Route>\n\t\t<Route path='/services/me'>\n\t\t\t<UserServicesPage />\n\t\t</Route>\n\t\t<Route path='/services/new'>\n\t\t\t<ServiceCreatePage />\n\t\t</Route>\n\t\t<Route path='/services/:serviceId'>\n\t\t\t<ServiceDetailPage />\n\t\t</Route>\n\t\t<Route path='/services'>\n\t\t\t<ServicesPage />\n\t\t</Route>\n\t\t<Route path='/profile'>\n\t\t\t<ProfilePage />\n\t\t</Route>\n\t\t<Route path='/faq'>\n\t\t\t<FaqPage />\n\t\t</Route>\n\t\t<Route path='/'>\n\t\t\t<HomePage />\n\t\t</Route>\n\t</Switch>\n);\n\nexport default Routes;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Sidebar from './components/Sidebar';\nimport Navbar from './components/Navbar';\nimport Routes from './Routes';\nimport Spinner from './components/Spinner';\n\nclass ServiceApp extends React.Component {\n\trenderApplication = (auth) => (\n\t\t<React.Fragment>\n\t\t\t<Navbar loadFresh id='navbar-main' auth={auth} />\n\t\t\t<Navbar auth={auth} id='navbar-clone' />\n\t\t\t<Sidebar />\n\t\t\t<Routes />\n\t\t</React.Fragment>\n\t);\n\n\trender() {\n\t\tconst { auth } = this.props;\n\t\treturn auth.isAuthResolved ? this.renderApplication(auth) : <Spinner />;\n\t}\n}\n\nconst mapStateToProps = (state) => ({ auth: state.auth });\n\nexport default connect(mapStateToProps)(ServiceApp);\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport { ToastProvider } from 'react-toast-notifications';\nimport createdStore from './store/index';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport ServiceApp from './ServiceApp';\n\nimport {\n\tonAuthStateChange,\n\tstoreAuthUser,\n\tsubscribeToMessages,\n\tcheckUserConnection\n} from './actions/index';\n\nconst store = createdStore();\n\nclass App extends React.Component {\n\tcomponentDidMount() {\n\t\tthis.unsubscribeAuth = onAuthStateChange((authUser) => {\n\t\t\tstore.dispatch(storeAuthUser(authUser));\n\n\t\t\tif (authUser) {\n\t\t\t\tcheckUserConnection(authUser.uid);\n\t\t\t\tthis.unsubscribeMessages = store.dispatch(\n\t\t\t\t\tsubscribeToMessages(authUser.uid)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (!authUser) {\n\t\t\t\tthis.unsubscribeMessages && this.unsubscribeMessages();\n\t\t\t}\n\t\t});\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.unsubscribeAuth();\n\t\tthis.unsubscribeMessages();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Provider store={store}>\n\t\t\t\t<ToastProvider>\n\t\t\t\t\t<Router>\n\t\t\t\t\t\t<ServiceApp />\n\t\t\t\t\t</Router>\n\t\t\t\t</ToastProvider>\n\t\t\t</Provider>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}